{"version":3,"names":[],"mappings":"","sources":["okanjo-bundle.js"],"sourcesContent":["/*! okanjo-js v3.1.0 | (c) 2013 Okanjo Partners Inc | https://okanjo.com/ */\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?module.exports=t():e.okanjo=t()}(this,function(){function q(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(o){var n=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=U(o),t=(e=n?(e=U(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&(\"object\"===p(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return a(t)}}function a(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function L(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,o){t&&L(e.prototype,t),o&&L(e,o),Object.defineProperty(e,\"prototype\",{writable:!1})}function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function V(e){return\"function\"==typeof e||\"[object Function]\"===H.call(e)}function W(e){return e=function(e){e=Number(e);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(e),Math.min(Math.max(e,0),N)}Array.from||(Array.from=(H=Object.prototype.toString,N=Math.pow(2,53)-1,function(e){var t=Object(e);if(null==e)throw new TypeError(\"Array.from requires an array-like object - not null or undefined\");var o,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!V(n))throw new TypeError(\"Array.from: when provided, the second argument must be a function\");2<arguments.length&&(o=arguments[2])}for(var i,a=W(t.length),r=V(this)?Object(new this(a)):new Array(a),s=0;s<a;)i=t[s],r[s]=n?void 0===o?n(i,s):n.call(o,i,s):i,s+=1;return r.length=a,r})),Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{value:function(e){if(null==this)throw new TypeError('\"this\" is null or not defined');var t=Object(this),o=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var n=arguments[1],i=0;i<o;){var a=t[i];if(e.call(n,a,i,t))return a;i++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,\"findIndex\",{value:function(e){if(null==this)throw new TypeError('\"this\" is null or not defined');var t=Object(this),o=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var n=arguments[1],i=0;i<o;){var a=t[i];if(e.call(n,a,i,t))return i;i++}return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,\"includes\",{value:function(e,t){if(null==this)throw new TypeError('\"this\" is null or not defined');var o=Object(this),n=o.length>>>0;if(0==n)return!1;var i,a,t=0|t,r=Math.max(0<=t?t:n-Math.abs(t),0);for(;r<n;){if((i=o[r])===(a=e)||\"number\"==typeof i&&\"number\"==typeof a&&isNaN(i)&&isNaN(a))return!0;r++}return!1}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var o=0;o<this.length;o++)e.call(t,this[o],o,this)}),\"function\"!=typeof Object.assign&&Object.defineProperty(Object,\"assign\",{value:function(e,t){\"use strict\";if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var o=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},writable:!0,configurable:!0}),s=window,l=document,Q=void 0!==s.pageXOffset,X=\"CSS1Compat\"===(l.compatMode||\"\"),$=s.navigator.userAgent,Y=/[\\s\\S](?:\\.\\.\\.)?$/,K=/(iPhone|iPad|iPod|Android|blackberry)/i,c=s.console,(u={version:\"3.1.0\",metrics:null,key:(s.okanjo||{}).key||null,report:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n,i=t.find(function(e){return e instanceof Error});i?((n=(new Error).stack.split(\"\\n\")).shift(),n.shift(),t.push({reportStack:n.join(\"\\n\")}),t=t.filter(function(e){return e!==i})):(n=t.findIndex(function(e){return\"string\"==typeof e}),i=new Error(t[n]||\"Okanjo Error\"),0<=n&&t.splice(n,1)),c.error(\"[Okanjo v\".concat(u.version,\"]: \").concat(i.stack)),t.length&&c.error.apply(c,[\"Additional information:\"].concat(t))},warn:function(e){var t=new Error(e);c.warn(\"[Okanjo v\".concat(u.version,\"]: \").concat(t.stack));for(var o=arguments.length,n=new Array(1<o?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];n.length&&c.warn.apply(c,[\"Additional information:\"].concat(n))},qwery:function(e,t){return\"string\"!=typeof t||(t=l.querySelector(t))?(t=t||l).querySelectorAll(e):[]}}).lib={},u.net={endpoint:\"https://api2.okanjo.com\",sandboxEndpoint:\"https://sandbox-api2.okanjo.com\",routes:{ads:\"/content\",metrics:\"/metrics/:object_type/:event_type\",metrics_batch:\"/metrics\"},getRoute:function(t,o,e){return o&&Object.keys(o).forEach(function(e){t=t.replace(\":\".concat(e),o[e]+\"\")}),(\"sandbox\"===(e=e||u.env||\"live\")?u.net.sandboxEndpoint:u.net.endpoint)+t},request:function(){}},u.util={isEmpty:function(e){return null==e||\"string\"==typeof e&&0===e.trim().length},isMobile:function(){return K.test($)},getPageArguments:function(e){function t(e){var n={};return(e=e||\"\").split(\"&\").forEach(function(e){var t,o=e.indexOf(\"=\"),e=o<0?(t=decodeURIComponent(e),null):(t=decodeURIComponent(e.substring(0,o)),decodeURIComponent(e.substring(o+1)));t&&(n[t]=e)}),n}var o=t(s.location.search.substring(s.location.search.indexOf(\"?\")+1)),n=e?t(s.location.hash.substring(Math.max(s.location.hash.indexOf(\"#\")+1,s.location.hash.indexOf(\"#!\")+2))):{};return Object.keys(n).forEach(function(e){return o[e]=n[e]}),o},ifDefined:function(e){return null!=e?e:null}},u.util.deepClone=function(t,o){return Array.isArray(t)?o=(o=o||[]).concat(t.map(function(e){return u.util.deepClone(e)})):\"object\"===p(t)&&null!==t?(o=o||{},Object.keys(t).forEach(function(e){o[e]=u.util.deepClone(t[e])})):o=t,o},u.util.flatten=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i={};return null!=e&&Object.keys(e).forEach(function(t){var o;e[t]instanceof Date?n.dateToIso?i[t]=e[t].toISOString():i[t]=e[t]:\"object\"!==p(e[t])||null===e[t]||Array.isArray(e[t])&&!0===n.ignoreArrays?i[t]=e[t]:Array.isArray(e[t])&&!0===n.arrayToCsv?i[t]=e[t].join(\",\"):(o=u.util.flatten(e[t],n),Object.keys(o).forEach(function(e){i[t+\"_\"+e]=o[e]}))}),i},\n/*! based on shortid https://github.com/dylang/shortid */\nu.util.shortid=(i=s.crypto||s.msCrypto||\"function\"==typeof require&&require(\"crypto\"),function(){var e=\"\",t=Math.floor(.001*((new Date).getTime()-1490384907498));return t===F?G++:(G=0,F=t),e=e+je(7)+je(0),0<G&&(e+=je(G)),e+=je(t)}),u.util.getLocation=function(){if(s.location===s.parent.location)return s.location.href;try{return s.parent.location.href}catch(e){}return l.referrer||l.referrer},u.ui={getScrollPosition:function(){return{x:Q?s.pageXOffset:(X?l.documentElement:l.body).scrollLeft,y:Q?s.pageYOffset:(X?l.documentElement:l.body).scrollTop}},getElementSize:function(e,t){var o={height:e.offsetHeight,width:e.offsetWidth},e=e.currentStyle||s.getComputedStyle(e);return t&&(o.height+=parseInt(e.marginTop)+parseInt(e.marginBottom),o.width+=parseInt(e.marginLeft)+parseInt(e.marginRight)),o},getPageSize:function(){var e=l.querySelector(\"body\"),t=l.documentElement;return{w:Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth),h:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},getViewportSize:function(){var e=X?l.documentElement:l.body,t=e.clientWidth,e=e.clientHeight,o=s.innerWidth||0,n=s.innerHeight||0,i=o&&o<t||n&&n<e;return{vw:i?o:t,vh:i?n:e}},getEventPosition:function(e){var t=e.pageX,o=e.pageY,n=l.body,i=l.documentElement,a=\"scrollLeft\",r=\"scrollTop\";return{et:e.__proto__.constructor.name,ex:void 0===t?e.clientX+n[a]+i[a]:t,ey:void 0===o?e.clientY+n[r]+i[r]:o}},getElementPosition:function(t){var o=\"Could not get position of element. Did you attach the element to the DOM before initializing?\";try{var e=t.getBoundingClientRect(),n=l.body.getBoundingClientRect();return l.body.contains(t)||u.report(o,t),{x1:e.left-n.left,y1:e.top-n.top,x2:e.right-n.left,y2:e.bottom-n.top}}catch(e){return u.report(o,{exception:e,element:t}),{x1:0,y1:0,x2:0,y2:0,err:1}}},_getIntersection:function(e,t,o){var n=Math.max(e.x1,t.x),i=Math.min(e.x2,t.x+o.vw),a=Math.max(e.y1,t.y),t=Math.min(e.y2,t.y+o.vh);return{intersectionArea:Math.max(0,i-n)*Math.max(0,t-a),elementArea:(e.x2-e.x1)*(e.y2-e.y1)}},isElementVisible:function(e){return 0<e.offsetWidth&&0<e.offsetHeight},getPercentageInViewport:function(e){var e=u.ui.getElementPosition(e),t=u.ui.getScrollPosition(),o=u.ui.getViewportSize();if(e.err)return 0;e=u.ui._getIntersection(e,t,o),t=e.intersectionArea,o=e.elementArea;return o<=0?0:t/o}},u.ui.ellipsify=function(e,t){function o(e){return s=e.substring(0,e.length-3)+s,\"...\"}for(var n,t=t||e.parentNode,i=u.ui.getElementSize(t).height,a=void 0!==e.textContent,r=a?e.textContent:e.innerText,s=\"\",c=5e3;u.ui.getElementSize(e).height>i&&0<r.length&&0<c--;)r=(r=a?e.textContent:e.innerText).replace(Y,o),a?e.textContent=r:e.innerText=r;0<s.length&&(t=l.createElement(\"span\"),n=l.createElement(\"span\"),t.setAttribute(\"class\",\"okanjo-ellipses\"),n.setAttribute(\"class\",\"okanjo-visually-hidden\"),a?(t.textContent=r.substring(0,r.length-3),n.textContent=s):(t.innerText=r.substring(0,r.length-3),n.innerText=s),e.innerHTML=\"\",e.appendChild(t),e.appendChild(n))},u.ui.fitImages=function(e){\"objectFit\"in l.documentElement.style||e.querySelectorAll(\"img.okanjo-fit\").forEach(function(e){e.style.display=\"none\";var t=e.parentNode;t.style.backgroundSize=\"cover\",t.style.backgroundImage=\"url(\"+e.src+\")\",t.style.backgroundposition=\"center center\"})},u.ui.articleSVG=function(){return'<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\"> <g id=\"newspaper_1_\"> <g id=\"newspaper_2_\"> <path id=\"newspaper_6_\" d=\"M21.5,23h-5c-0.276,0-0.5-0.224-0.5-0.5v-5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5v5 C22,22.776,21.776,23,21.5,23z M37,32c0,1.654-1.346,3-3,3h-2H15c-1.654,0-3-1.346-3-3V14c0-0.552,0.448-1,1-1h17 c0.552,0,1,0.448,1,1v18c0,0.552,0.449,1,1,1h2c0.551,0,1-0.448,1-1V17h-1v14.75c0,0.138-0.112,0.25-0.25,0.25h-1.5 C32.112,32,32,31.888,32,31.75V16c0-0.552,0.448-1,1-1h3c0.552,0,1,0.448,1,1v1V32z M15,33h14.184C29.072,32.686,29,32.352,29,32 V15H14v17C14,32.552,14.449,33,15,33z M26.5,19h-2c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h2 c0.276,0,0.5,0.224,0.5,0.5v1C27,18.776,26.776,19,26.5,19z M26.5,23h-2c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5 h2c0.276,0,0.5,0.224,0.5,0.5v1C27,22.776,26.776,23,26.5,23z M26.5,27h-10c-0.276,0-0.5-0.224-0.5-0.5v-1 c0-0.276,0.224-0.5,0.5-0.5h10c0.276,0,0.5,0.224,0.5,0.5v1C27,26.776,26.776,27,26.5,27z M26.5,31h-10 c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h10c0.276,0,0.5,0.224,0.5,0.5v1C27,30.776,26.776,31,26.5,31z\"/> </g> </g> </svg>'},u.ui.productSVG=function(){return'<svg id=\"glyphicons-basic\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"> <path id=\"cart\" d=\"M13,26.5A1.5,1.5,0,1,1,11.5,25,1.5,1.5,0,0,1,13,26.5ZM21.5,25A1.5,1.5,0,1,0,23,26.5,1.5,1.5,0,0,0,21.5,25ZM27.96436,8.82544l-2,9A1.49988,1.49988,0,0,1,24.5,19H11.77l.4375,2H23a1,1,0,0,1,1,1v1a1,1,0,0,1-1,1H11a1.5,1.5,0,0,1-1.46533-1.17944L6.29248,8H4A1,1,0,0,1,3,7V6A1,1,0,0,1,4,5H7.5A1.49993,1.49993,0,0,1,8.96533,6.17944L9.14484,7H26.5a1.50029,1.50029,0,0,1,1.46436,1.82544ZM24.62988,10H9.80115l1.31256,6H23.29688Z\"/></svg>'},u.ui.inlineSVG=function(e){return\"data:image/svg+xml;base64,\"+btoa('<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>'+e)};var H,N,s,l,G,F,i,Q,X,$,Y,K,c,u,J,Z,d,h,t,n,k,ee,f,g,te,oe,m,j,b,ne,ie,ae,y,_,v,re,x,w,se,ce,le,C,ue,de,E,A,e,S,pe,he,O,T,ke,P,I,fe,ge,z,R,M,me=s.okanjo=u;function je(e){for(var t,o=0,n=\"\";!t;)n+=\"ylZM7VHLvOFcohp01x-fXNr8P_tqin6RkgWGm4SIDdK5s2TAJebzQEBUwuY9j3aC\"[e>>4*o&15|function(){if(i&&i.randomBytes)return 48&i.randomBytes(1)[0];if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return i.getRandomValues(e),48&e[0]}()],t=e<Math.pow(16,o+1),o++;return n}function be(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent(\"on\"+t,o)}function ye(){g.style.height=ae()-80+\"px\"}function _e(){y(f,\"okanjo-modal-fade-out\"),setTimeout(function(){_(f,\"okanjo-modal-fade-out\"),y(f,\"okanjo-modal-hidden\"),_(k,\"okanjo-modal-active\"),ne||_(k,\"okanjo-modal-margin-fix\")},210)}return function(s){function r(e,t){return t?\"\".concat(t,\"[\").concat(u(e),\"]\"):u(e)}var c=/^application\\/json/,l=s.okanjo,u=(l.net.request=function(e,t,o,n){\"function\"==typeof o&&(n=o,o=void 0);function i(e,t){r||(r=!0,n(e,t))}var a=new(s.XMLHttpRequest||s.ActiveXObject)(\"MSXML2.XMLHTTP.3.0\"),r=!1;l.net.request.timeout&&(a.timeout=l.net.request.timeout),a.ontimeout=function(e){i({statusCode:504,error:\"Request timed out\",message:\"Something went wrong\",attributes:{event:e,xhr:a}})},a.onreadystatechange=function(e){var t;4===a.readyState&&(0<a.status?(t=c.test(a.getResponseHeader(\"Content-Type\"))?JSON.parse(a.responseText):{statusCode:a.status,data:a.responseText},200<=a.status&&a.status<300?i(null,t):i(t)):i({statusCode:503,error:\"Request failed\",message:\"Something went wrong\",attributes:{event:e,xhr:a}}))},a.open(e.toUpperCase(),t),a.withCredentials=!0,[\"POST\",\"PUT\",\"PATCH\"].includes(e.toUpperCase())&&(a.setRequestHeader(\"Content-Type\",\"application/json; charset=utf-8\"),void 0!==o&&(o=JSON.stringify(o))),a.send(o||void 0)},l.net.request.get=l.net.request.bind(this,\"GET\"),l.net.request.post=l.net.request.bind(this,\"POST\"),l.net.request.put=l.net.request.bind(this,\"PUT\"),l.net.request.delete=l.net.request.bind(this,\"DELETE\"),function(e){return null==e?\"\":encodeURIComponent(\"\"+e)});l.net.request.stringify=function(n,i){var a=[];return i=i||\"\",Object.keys(n).forEach(function(t){var e,o=n[t];Array.isArray(o)?o.forEach(function(e){return a.push(r(t,i)+\"=\"+u(e))}):\"object\"===p(o)&&null!==o?(e=l.net.request.stringify(o,r(t,i)))&&a.push(e):void 0!==o&&a.push(r(t,i)+\"=\"+u(o))}),a.join(\"&\")}}(window),J=window,Z=document,J.okanjo.util.cookie={set:function(e,t,o){var n=new Date,o=(n.setDate(n.getDate()+o),o?\" Expires=\"+n.toUTCString()+\";\":\"\"),n=\"https:\"===J.location.protocol?\" Secure;\":\"\",t=\"\".concat(encodeURI(t),\";\").concat(o).concat(n,\" SameSite=None;\").concat(\" Path=/\");Z.cookie=e+\"=\"+t},get:function(o){var n=null;return Z.cookie.split(\";\").find(function(e){var t=e.substr(0,e.indexOf(\"=\")).trim(),e=e.substr(e.indexOf(\"=\")+1);return t===o&&(n=decodeURI(e),!0)}),n}},z=window,d=document,h=z.okanjo,(z=function(){function e(){r(this,e),this._templates={},this._css={},this.classDetects=\"\"}return o(e,[{key:\"registerTemplate\",value:function(e,t,o,n){if(\"object\"===p(t)){if(void 0===t.nodeType)throw new Error(\"Parameter template must be a string or a DOM element\");t=t.innerHTML,h.lib.Mustache.parse(t)}else if(\"string\"!=typeof t)throw new Error(\"Parameter template must be a string or a DOM element\");if(3===arguments.length&&\"object\"===p(o)?(n=o,o=null):n=n||{},o&&\"function\"!=typeof o)throw new Error(\"Parameter beforeRender must be a function\");this._templates[e]={markup:t,options:n,beforeRender:o}}},{key:\"registerCss\",value:function(e,t,o){if(o=o||{},\"object\"===p(t)){if(void 0===t.nodeType)throw new Error(\"Parameter css must be a string or a DOM element\")}else if(\"string\"!=typeof t)throw new Error(\"Parameter css must be a string or a DOM element\");this._css[e]={markup:t,options:o}}},{key:\"isTemplateRegistered\",value:function(e){return!!this._templates[e]}},{key:\"isCssRegistered\",value:function(e){return!!this._css[e]}},{key:\"ensureCss\",value:function(e){var t,o,n,i;this._css[e]?(i=void 0===(t=this._css[e]).markup.nodeType?t.options.id||\"okanjo-css-\"+e:null)&&!d.querySelector(\"#\"+i.replace(/\\./g,\"\\\\.\"))&&(o=d.head,(n=d.createElement(\"style\")).id=i,n.setAttribute(\"type\",\"text/css\"),n.hasOwnProperty?n.textContent=t.markup:n.styleSheet.cssText=t.markup,o?o.appendChild(n):(i=d.body)?i.appendChild(n):h.report(\"Cannot add CSS template to document. Does it not have a body or head?\")):h.report('Attempted to add CSS template \"'+e+'\" to the DOM, however it does not appear to be registered?')}},{key:\"ensureExternalCss\",value:function(e){var t,o,n=\"okanjo-custom-css-\"+e;d.getElementById(n)||(t=d.head,(o=d.createElement(\"link\")).id=n,o.setAttribute(\"rel\",\"stylesheet\"),o.setAttribute(\"href\",e),t?t.appendChild(o):(n=d.body)?n.appendChild(o):h.report(\"Cannot add custom CSS stylesheet to document. Does it not have a body or head?\"))}},{key:\"render\",value:function(e,t,o){var n=this,e=(o=o||{},this._templates[e]);return(o=e.beforeRender?e.beforeRender.call(t,o):o).okanjo=h,o.okanjoMetricUrl=h.net.endpoint.replace(/^https?:\\/\\//,\"\"),o.now=function(){return(new Date).getTime()},o.classDetects=this.classDetects,o.blockClasses&&Array.isArray(o.blockClasses)&&(o.classDetects+=\" \"+o.blockClasses.join(\" \"),delete o.blockClasses),!1!==o.css&&e.options.css&&0<e.options.css.length&&(e.options.css.forEach(function(e){return n.ensureCss(e)}),delete o.css),h.lib.Mustache.render(e.markup,o)}}]),e}()).formatCurrency=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\".\",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:\",\",i=e<0?\"-\":\"\",a=parseInt(e=Math.abs(+e||0).toFixed(t))+\"\",r=a.length;return i+((r=3<r?r%3:0)?a.substr(0,r)+n:\"\")+a.substr(r).replace(/(\\d{3})(?=\\d)/g,\"$1\"+n)+(t?o+Math.abs(e-a).toFixed(t).slice(2):\"\")},h.ui.engine=new z,t=window,n=document,z=t.okanjo,ne=z.util.isMobile(),ie=!1,ae=function(){return t.innerHeight||n.documentElement.clientHeight},y=function(e,t){e.className+=\" \"+t},_=function(e,t){e.className=e.className.replace(new RegExp(\" *?\"+t),\"\")},z.ui.modal={show:function(e){ie||(ie=!0,k=n.documentElement||n.querySelector(\"html\"),ee=n.body||n.querySelector(\"body\"),f=n.createElement(\"div\"),g=n.createElement(\"div\"),te=n.createElement(\"div\"),oe=n.createElement(\"div\"),m=n.createElement(\"div\"),j=n.createElement(\"div\"),b=n.createElement(\"iframe\"),f.setAttribute(\"class\",\"okanjo-modal-container okanjo-modal-hidden \"),g.setAttribute(\"class\",\"okanjo-modal-window\"),te.setAttribute(\"class\",\"okanjo-modal-window-skin\"),oe.setAttribute(\"class\",\"okanjo-modal-window-outer\"),m.setAttribute(\"class\",\"okanjo-modal-window-inner\"),j.setAttribute(\"class\",\"okanjo-modal-close-button\"),b.setAttribute(\"class\",\"okanjo-inline-buy-frame\"),b.setAttribute(\"frameborder\",\"0\"),b.setAttribute(\"vspace\",\"0\"),b.setAttribute(\"hspace\",\"0\"),b.setAttribute(\"webkitallowfullscreen\",\"\"),b.setAttribute(\"mozallowfullscreen\",\"\"),b.setAttribute(\"allowfullscreen\",\"\"),b.setAttribute(\"scrolling\",\"auto\"),j.innerHTML=\"×\",m.appendChild(b),oe.appendChild(m),te.appendChild(oe),g.appendChild(te),g.appendChild(j),f.appendChild(g),ee.appendChild(f),be(t,\"orientationchange\",function(){for(var e=0;e<2;e++)setTimeout(ye,1e3*e+10)}),be(t,\"resize\",function(){setTimeout(ye,100)}),be(f,\"click\",_e),be(g,\"click\",function(e){e.preventDefault(),e.stopPropagation()}),be(j,\"click\",function(e){e.preventDefault(),e.stopPropagation(),_e()})),e=e,m.innerHTML=\"\",\"string\"==typeof e?m.innerHTML=e:m.appendChild(e),_(f,\"okanjo-modal-hidden\"),y(f,\"okanjo-modal-fade-out\"),ye(),y(k,\"okanjo-modal-active\"),ne||y(k,\"okanjo-modal-margin-fix\"),setTimeout(function(){_(f,\"okanjo-modal-fade-out\")},10)},hide:function(){_e()}},z.ui.modal,v=window,re=document,x=v.okanjo,(w=function(){function i(){r(this,i),this._queue=this._getStoredQueue(),this._processTimeout=null,this.pageId=x.util.shortid(),this.defaultChannel=i.Channel.external,this.sid=null,this.sourceCh=null,this.sourceCx=null,this._checkUrlForReferral()}return o(i,[{key:\"_getStoredQueue\",value:function(){if(!v.localStorage[i.Params.queue])return[];try{var e=JSON.parse(v.localStorage[i.Params.queue]);return Array.isArray(e)?e:(x.report(\"Stored queue is not a queue\",{queue:e}),[])}catch(e){return x.report(\"Failed to load metric queue from storage\",{err:e}),[]}}},{key:\"_saveQueue\",value:function(e){var t=this;e?(this._saveQueueTimeout&&clearTimeout(this._saveQueueTimeout),this._saveQueueTimeout=setTimeout(function(){t._saveQueue(!1),t._saveQueueTimeout=null},100)):v.localStorage[i.Params.queue]=JSON.stringify(this._queue)}},{key:\"_checkUrlForReferral\",value:function(){var e=x.util.getPageArguments(!0),t=e[i.Params.name],o=v.localStorage[i.Params.name]||x.util.cookie.get(i.Params.name),n=e[i.Params.context],e=e[i.Params.channel];t&&o&&t!==o&&this.trackEvent({object_type:i.Object.metric_session,event_type:i.Event.correlation,id:t+\"_\"+o,ch:this.defaultChannel,_noProcess:!0}),this.sid=o||t||null,this.sourceCh=e||null,this.sourceCx=n||null}},{key:\"trackEvent\",value:function(e,t){e.object_type&&e.event_type?this._push(e,t):x.report(\"Invalid metric to track (missing object_type or event_type)\",{event:e})}},{key:\"trackPageView\",value:function(e,t){(e=e||{}).object_type=i.Object.page,e.event_type=i.Event.view,e.id=e.id||x.util.getLocation(),e.ch=e.ch||this.defaultChannel,this.trackEvent(e,t)}},{key:\"_push\",value:function(e,t){this._queue.push({event:e,callback:t}),this._saveQueue(!0),e._noProcess?delete e._noProcess:this._processQueue()}},{key:\"_processQueue\",value:function(){var n=this;!this._processTimeout&&0<this._queue.length&&(this._processTimeout=setTimeout(function(){var e=n._queue.splice(0,255);n._saveQueue(!1),n._batchSend(e,function(t,o){o&&o.data&&o.data.sid&&n._updateSid(o.data.sid),n._processTimeout=null,n._processQueue(),e.forEach(function(e){e.callback&&e.callback(t,o)})})},0))}},{key:\"_batchSend\",value:function(o,n){var t=this,e={events:o.map(function(e){return t._normalizeEvent(e.event),delete e.event.sid,delete e.event.win,e.event}),win:x.util.getLocation()},i=x.net.getRoute(x.net.routes.metrics_batch);this.sid&&(e.sid=this.sid),x.net.request.post(i,e,function(e,t){e&&x.report(\"Failed to send metrics batch\",{err:e,res:t,items:o,route:i}),n&&n(e,t)})}},{key:\"_normalizeEvent\",value:function(t){t.m=t.m||{},t.key=t.key||t.m.key||x.key||void 0,this.sid&&(t.sid=this.sid),t.m=Object.assign({},t.m),this.sourceCh&&(t.m.ref_ch=this.sourceCh),this.sourceCx&&(t.m.ref_cx=this.sourceCx),t.m.pgid=this.pageId,t.m.ok_ver=x.version,t.m=x.util.flatten(t.m,{arrayToCsv:!0});var o=new Set(i.Meta.include);Object.keys(t.m).forEach(function(e){o.has(e)||delete t.m[e]}),Object.keys(t.m).forEach(function(e){\"string\"==typeof t.m[e]&&(t.m[e]=t.m[e].substr(0,255))}),re.referrer&&(t.ref=re.referrer),t.win=x.util.getLocation()}},{key:\"_updateSid\",value:function(e){!e||this.sid&&this.sid===e||(this.sid=e,v.localStorage[i.Params.name]=e,x.util.cookie.set(i.Params.name,e,i.Params.ttl))}},{key:\"create\",value:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return i.create.apply(null,t)}}],[{key:\"addElementInfo\",value:function(e,t){var o=x.ui.getPageSize(),e=x.ui.getElementPosition(e);return(t=t||{}).m=t.m||{},t.m.pw=o.w,t.m.ph=o.h,t.m.x1=e.x1,t.m.y1=e.y1,t.m.x2=e.x2,t.m.y2=e.y2,t}},{key:\"addWidgetInfo\",value:function(e,t){function o(e,t){return void 0===t||e<t?e:t}function n(e,t){return void 0===t||t<e?e:t}function i(e,t){return void 0===e?t:e}var a,r,s,c,l,u=x.ui.getElementPosition(e),e=((t=t||{}).m=t.m||{},t.m.wox1=u.x1,t.m.woy1=u.y1,t.m.wox2=u.x2,t.m.woy2=u.y2,x.qwery(\".okanjo-resource, .okanjo-adx-container\",e)),d=[];return e.forEach(function(e){a=x.ui.getElementPosition(e),r=o(a.x1,r),s=o(a.y1,s),c=n(a.x2,c),l=n(a.y2,l),d.push(a.x1,a.y1,a.x2,a.y2)}),t.m.wix1=i(r,u.x1),t.m.wiy1=i(s,u.y1),t.m.wix2=i(c,u.x2),t.m.wiy2=i(l,u.y2),t.m.wrps=d.map(function(e){return Math.floor(e)}).join(\",\"),t}},{key:\"addViewportInfo\",value:function(e){var t=x.ui.getViewportSize(),o=x.ui.getScrollPosition();return(e=e||{}).m=e.m||{},e.m.vx1=o.x,e.m.vy1=o.y,e.m.vx2=o.x+t.vw,e.m.vy2=o.y+t.vh,e}},{key:\"addEventInfo\",value:function(e,t){e=x.ui.getEventPosition(e);return(t=t||{}).m=t.m||{},t.m.et=e.et,t.m.ex=e.ex,t.m.ey=e.ey,t}},{key:\"addEventMeta\",value:function(e){(e=e||{}).m=e.m||{};for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.m=Object.assign.apply(Object,[e.m].concat(o)),e}},{key:\"create\",value:function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return new se(e,o)}}]),i}()).Params={queue:\"_ok_q\",name:\"ok_msid\",channel:\"ok_ch\",context:\"ok_cx\",ttl:1460},w.Meta={exclude:[\"key\",\"callback\",\"metrics_channel_context\",\"metrics_context\",\"mode\"],include:[\"decl\",\"ex\",\"ey\",\"filters_sort_by\",\"filters_sort_direction\",\"filters_take\",\"filters_type\",\"filters_url\",\"ok_ver\",\"ph\",\"pw\",\"pten\",\"ptid\",\"res_bf\",\"res_length\",\"res_sf\",\"res_spltfl\",\"res_type\",\"bf\",\"sf\",\"spltfl_seg\",\"vx1\",\"vx2\",\"vy1\",\"vy2\",\"pgid\",\"wgid\",\"wix1\",\"wix2\",\"wiy1\",\"wiy2\",\"wox1\",\"wox2\",\"woy1\",\"woy2\",\"wrps\",\"x1\",\"x2\",\"y1\",\"y2\",\"cid\",\"campaign_id\",\"expandable\",\"res_total\"]},w.Event={view:\"vw\",impression:\"imp\",interaction:\"int\",correlation:\"cor\"},w.Action={click:\"click\",inline_click:\"inline_click\"},w.Object={article:\"am\",thirdparty_ad:\"ta\",cart:\"ct\",page:\"pg\",widget:\"wg\",product:\"pr\",store:\"st\",cause:\"ca\",marketplace:\"mp\",order:\"or\",order_item:\"oi\",user:\"ur\",metric_session:\"mt\"},w.Channel={placement:\"pw\",marketplace:\"mp\",external:\"ex\",product_widget:\"pw\",ad_widget:\"aw\",store_widget:\"sw\"},w.Environment={live:\"live\",testing:\"testing\"},se=function(){function n(e,t){var o=this;r(this,n),this.data(e=e||{}),Array.isArray(t)&&t.forEach(function(e){o.data(e)})}return o(n,[{key:\"data\",value:function(e){return Object.assign(this,x.util.deepClone(e)),this}},{key:\"event\",value:function(e){return w.addEventInfo(e,this),this}},{key:\"viewport\",value:function(){return w.addViewportInfo(this),this}},{key:\"element\",value:function(e){return w.addElementInfo(e,this),this}},{key:\"widget\",value:function(e){return w.addWidgetInfo(e,this),this}},{key:\"meta\",value:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return w.addEventMeta.apply(null,[this].concat(t)),this}},{key:\"type\",value:function(e,t){return this.object_type=e,this.event_type=t,this}},{key:\"send\",value:function(e){x.metrics.trackEvent(this,e)}},{key:\"toUrl\",value:function(){var e=Object.assign({},this),t=e.object_type,o=e.event_type;return delete e.object_type,delete e.event_type,x.metrics._normalizeEvent(e),x.net.getRoute(x.net.routes.metrics,{object_type:t,event_type:o})+\"?\"+x.net.request.stringify(e)}}]),n}(),x.metrics=new w,(ce=window.okanjo).metrics.trackPageView({_noProcess:!0}),setTimeout(function(){ce.metrics._processQueue()},1e3),z=window,M=function(){function e(){r(this,e),this._events={}}return o(e,[{key:\"on\",value:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}},{key:\"removeListener\",value:function(e,t){this._events[e]&&0<=(t=this._events[e].indexOf(t))&&this._events[e].splice(t,1)}},{key:\"emit\",value:function(e){var t,o,n,i=[].slice.call(arguments,1);if(this._events[e])for(n=(o=this._events[e].slice()).length,t=0;t<n;t++)o[t].apply(this,i)}},{key:\"once\",value:function(o,n){var i=arguments,a=this;this.on(o,function e(){var t=[].slice.call(i,1);a.removeListener(o,e),n.apply(a,t)})}}]),e}(),z.okanjo._EventEmitter=M,le=window,C=le.okanjo,ue=/^data-(.+)$/,de=/-/g,(z=function(){q(i,C._EventEmitter);var n=B(i);function i(e,t){var o;if(r(this,i),o=n.call(this),e&&void 0!==e.nodeType)return t=t&&\"object\"!==p(t)?(C.report(\"Invalid widget options. Expected object, got: \"+p(t),{widget:a(o),element:e,options:t}),{}):t||{},o.name=\"Widget\",o.element=e,o.instanceId=C.util.shortid(),o.config=Object.assign({},t),o;throw C.report(\"Invalid or missing element on widget construction\",{widget:a(o),element:e,options:t}),new Error(\"Okanjo: Invalid element - make sure to pass a valid DOM element when constructing Okanjo Widgets.\")}return o(i,[{key:\"init\",value:function(){this._applyConfiguration(),this._setCompatibilityOptions(),this._ensurePlacementKey()&&this.load()}},{key:\"_setCompatibilityOptions\",value:function(){}},{key:\"getSettings\",value:function(){return{}}},{key:\"load\",value:function(){}},{key:\"_applyConfiguration\",value:function(){var o=this,n=this.getDataAttributes(),i=this.getSettings();Object.keys(n).forEach(function(e){var t=e.replace(de,\"_\"),e=n[e];i[t]&&(e=i[t].value(e,!1)),C.util.isEmpty(e)||(o.config[t]=e)}),Object.keys(i).forEach(function(e){void 0===o.config[e]&&void 0!==i[e]._default&&(o.config[e]=i[e].value(void 0,!1))})}},{key:\"getConfig\",value:function(){var i=this,a=this.getSettings(),r={};return Object.keys(this.config).forEach(function(e){var t=i.config[e],o=null,n=(a[e]&&(t=a[e].value(t),o=a[e].getGroup()),r);o&&(n[o]=n[o]||{},n=n[o]),null===t?n[e]=\"\":void 0!==t&&(n[e]=t)}),r}},{key:\"_ensurePlacementKey\",value:function(){return!!this.config.key||(C.key?(this.config.key=C.key,!0):(C.report(\"No key provided on widget\",{widget:this}),this.showError(\"Error: Missing placement key.\"),!1))}},{key:\"showError\",value:function(e){this.setMarkup(C.ui.engine.render(\"okanjo.error\",this,{message:e}))}},{key:\"setMarkup\",value:function(e){this.element.innerHTML=e,this.setFlexClasses()}},{key:\"setFlexClasses\",value:function(){var e=this.config.align,t=this.config.justify;e&&this.element.classList.add(\"okanjo-align-\"+e),t&&this.element.classList.add(\"okanjo-justify-\"+t)}},{key:\"getDataAttributes\",value:function(){var o={};return Array.from(this.element.attributes).forEach(function(e){var t=ue.exec(e.name);t&&(o[t[1]]=e.value)}),o}}],[{key:\"getCurrentPageUrl\",value:function(){return le.location.href.replace(/([?#].*)$/,\"\")}}]),i}()).Field=function(){function t(){r(this,t),this._convert=null,this._strip=!1,this._default=void 0,this._group=null}return o(t,[{key:\"array\",value:function(t){return this._convert=function(e){return Array.isArray(e)?t?e.map(function(e){return t(e)}):e:(e=e.replace(/\\\\,/g,\"\\0\")).split(\",\").map(function(e){e=e.trim().replace(\"\\0\",\",\");return e=t?t(e):e})},this}},{key:\"string\",value:function(){return this._convert=function(e){return null==e?e:\"\"+e},this}},{key:\"bool\",value:function(){return this._convert=function(e){return\"string\"==typeof e?\"1\"===e||\"true\"===e.toLowerCase():!!e},this}},{key:\"strip\",value:function(){return this._strip=!0,this}},{key:\"int\",value:function(){return this._convert=function(e){return parseInt(e)},this}},{key:\"float\",value:function(){return this._convert=function(e){return parseFloat(e)},this}},{key:\"default\",value:function(e){return this._default=e,this}},{key:\"group\",value:function(e){return this._group=e,this}},{key:\"getGroup\",value:function(){return this._group}},{key:\"value\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this._strip||!t)return void 0!==(e=void 0!==e&&this._convert?this._convert(e):e)?e:this._default}}],[{key:\"array\",value:function(e){return(new t).array(e)}},{key:\"string\",value:function(){return(new t).string()}},{key:\"bool\",value:function(){return(new t).bool()}},{key:\"strip\",value:function(){return(new t).strip()}},{key:\"int\",value:function(){return(new t).int()}},{key:\"float\",value:function(){return(new t).float()}}]),t}(),C._Widget=z,E=window,A=E.okanjo,M=A._Widget.Field,e=M.string,S=M.array,pe=M.float,he=M.int,O=M.bool,T=A.metrics.constructor,ke=A.ui.engine.constructor,P=\"filters\",I=\"display\",fe=\"article_meta\",(M=function(){q(c,A._Widget);var n=B(c);function c(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,c),o=A.util.flatten(o,{ignoreArrays:!0}),(t=n.call(this,e,o)).name=\"Placement\",t._metricBase={},t._response=null,t._viewWatcherIv=null,t._viewedWatchers=[],o.no_init||t.init(),t}return o(c,[{key:\"getSettings\",value:function(){return{type:e().group(P),ids:S().group(P),q:e().group(P),url:e().group(P),url_referrer:e().group(P).strip(),url_selectors:e().group(P),url_paths:S().group(P),not_url_paths:S().group(P),organization_id:e().group(P),property_id:e().group(P),store_id:e().group(P),organization_name:e().group(P),property_name:e().group(P),store_name:e().group(P),external_id:e().group(P),sku:e().group(P),external_store_id:e().group(P),condition:e().group(P),manufacturer:e().group(P),upc:e().group(P),isbn:e().group(P),tags:S().group(P),category:S().group(P),pools:S().group(P),min_price:pe().group(P),max_price:pe().group(P),min_donation_percent:pe().group(P),max_donation_percent:pe().group(P),donation_to:e().group(P),sort_by:e().group(P),sort_direction:e().group(P),skip:he().group(P),take:he().group(P),placement_tests_only:O(),size:e().group(I),template_name:e().group(I),template_layout:e().group(I),template_theme:e().group(I),template_variant:e().group(I),template_cta_style:e().group(I),template_cta_text:e().group(I),template_cta_color:e().group(I),adx_unit_path:e().group(I),align:e().group(I),justify:e().group(I),custom_css_url:e().group(I),custom_css:e().group(I),url_category:S().group(fe),url_keywords:S().group(fe),key:e().strip(),no_init:O().strip(),no_css:O().strip(),verbose_click_data:O().strip().default(!1),utm_click_data:O().strip().default(!1),proxy_url:e().strip(),expandable:O().strip().default(!0),disable_inline_buy:O().strip().default(!1),disable_popup:O().strip().default(!1),backwards:e().strip(),testing:O().strip()}}},{key:\"getConfig\",value:function(){var s=this,c=this.getSettings(),l={filters:{},display:{},backfill:{},shortfill:{},article_meta:{}},u=/^backfill_(.+)$/,d=/^shortfill_(.+)$/;return Object.keys(this.config).forEach(function(e){var t=s.config[e],o=e,n=!1,i=!1,a=null,r=u.exec(e),e=(r?(o=r[1],n=!0):(r=d.exec(e))&&(o=r[1],i=!0),c[o]&&(t=c[o].value(t),a=c[o].getGroup()),l);n?e=l.backfill:i&&(e=l.shortfill),!i&&a&&(e[a]=e[a]||{},e=e[a]),null===t?e[o]=\"\":void 0!==t&&(e[o]=t)}),l}},{key:\"load\",value:function(){var t=this;this._setMetricBase(),this._fetchContent(function(e){e?t._reportWidgetLoad(\"fetch failed: \"+e.statusCode||e.toString()):(t._mergeResponseSettings(),t._updateBaseMetaFromResponse(),t._showContent())})}},{key:\"_setMetricBase\",value:function(){var e=this._metricBase;e.ch=T.Channel.placement,e.cx=this.config.backwards||\"auto\",e.key=this.config.key,e.m=e.m||{},e.m.wgid=this.instanceId,this.config.testing&&(e.env=T.Environment.testing)}},{key:\"_reportWidgetLoad\",value:function(e){var t=this,o=this._getResponseData(),n=o.find(function(e){return e.backfilled})?1:0,i=o.find(function(e){return e.shortfilled})?1:0,a=1<o.length?1:0,r=o.reduce(function(e,t){return e+(t.total||0)},0),s=o.reduce(function(e,t){return e+(t.results&&t.results.length||0)},0),o=Array.from(new Set(o.map(function(e){return e.type})));this._metricBase.m.decl=e||\"0\",this._metricBase.m.res_bf=n,this._metricBase.m.res_sf=i,this._metricBase.m.res_spltfl=a,this._metricBase.m.res_total=r,this._metricBase.m.res_type=1<o.length?c.ContentTypes.mixed:o[0],this._metricBase.m.res_length=s,A.metrics.create(this._metricBase).type(T.Object.widget,T.Event.impression).meta(this.getConfig()).element(this.element).viewport().widget(this.element).send(),this._addOnceViewedHandler(this.element,function(){A.metrics.create(t._metricBase).type(T.Object.widget,T.Event.view).meta(t.getConfig()).element(t.element).viewport().widget(t.element).send()})}},{key:\"_fetchContent\",value:function(o){var n=this,e=this.getConfig(),t=this.config.key;A.metrics.sid&&(e.sid=A.metrics.sid),e.filters.url_referrer=this.config.url_referrer||E.location.href,e.wgid=this.instanceId,e.pgid=A.metrics.pageId,A.net.request.post(\"\".concat(A.net.getRoute(A.net.routes.ads,null,this.config.sandbox?\"sandbox\":\"live\"),\"?key=\").concat(encodeURIComponent(t)),e,function(e,t){e?(A.report(\"Failed to retrieve placement content\",e,{placement:n}),n.setMarkup(\"\"),n.emit(\"error\",e),o&&o(e)):(n._response=t,n.emit(\"data\"),o&&o())})}},{key:\"_getResponseData\",value:function(){var e=this._response;return[].concat(e&&e.data||[{}])}},{key:\"_mergeResponseSettings\",value:function(){var t=this,o=this._getResponseData()[0].settings||{};o.filters&&Object.keys(o.filters).forEach(function(e){t.config[e]=o.filters[e]}),o.display&&Object.keys(o.display).forEach(function(e){t.config[e]=o.display[e]})}},{key:\"_updateBaseMetaFromResponse\",value:function(){var e=this._getResponseData()[0]||{},t=(this._metricBase.m=this._metricBase.m||{},this._metricBase.m);e.article&&(t.aid=e.article.id),e.test&&e.test.enabled?(t.pten=1,t.ptid=e.test.id,t.ptseed=e.test.seed):t.pten=0}},{key:\"_showContent\",value:function(){for(var e,t=this._getResponseData(),o=(1<t.length&&(this.config.template_name=\"slab\",this.config.size=\"responsive\"),[]),n=0;n<t.length;n++)(e=t[n]).type===c.ContentTypes.products?o.push(this._renderProductSegment(e,n)):e.type===c.ContentTypes.articles?o.push(this._renderArticleSegment(e,n)):e.type===c.ContentTypes.adx?o.push(this._renderADXSegment(e,n)):(e=\"Unknown response content type: \"+e.type,A.report(e,{placement:this}),this.emit(\"error\",e));if(0===(o=o.filter(function(e){return!!e})).length)return this.emit(\"empty\"),void this._reportWidgetLoad(\"empty\");var i={css:!this.config.no_css,segmentContent:o.join(\"\")},a=this._getTemplate(c.ContentTypes.container,c.DefaultTemplates.container);this.setMarkup(A.ui.engine.render(a,this,i)),this._reportWidgetLoad(),this._postProductRender(),this._postArticleRender(),this._postADXRender(),A.ui.fitImages(this.element),this.emit(\"load\")}},{key:\"_getClickThroughURL\",value:function(e,t,o){var n=0<=t.indexOf(\"?\")?\"&\":\"?\";return(o=o||{}).ok_msid=A.metrics.sid||\"unknown\",this.config.verbose_click_data&&(o.ok_ch=this._metricBase.ch,o.ok_cx=this._metricBase.cx,o._okjr=btoa(E.location.href.split(/[?#]/)[0])),this.config.utm_click_data&&(o.utm_source=\"okanjo\",o.utm_medium=\"smartserve\"),t+=n+Object.keys(o).map(function(e){return encodeURIComponent(e)+\"=\"+encodeURIComponent(o[e])}).join(\"&\"),this.config.proxy_url&&(t=this.config.proxy_url+encodeURIComponent(t)),e.data({u:t}),e.toUrl()}},{key:\"_handleResourceMouseDown\",value:function(e,t,o){var n=t._cid,i=A.metrics.create(this._metricBase,{id:t.id}).type(e,T.Event.interaction).meta(this.getConfig()).meta({cid:n}).meta({bf:t.backfill?1:0,sf:t.shortfill?1:0,spltfl_seg:A.util.ifDefined(t.splitfill_segment)}).event(o).element(o.currentTarget).viewport().widget(this.element),a=\"url_track_param\",r=\"url\",e=(e===T.Object.product&&(a=\"buy_url_track_param\",r=\"buy_url\"),{ok_cid:n});t[a]&&(e[t[a]]=n),i.data({ea:T.Action.click}),o.currentTarget.href=this._getClickThroughURL(i,t[r],e),t._clickId=n,t._event=i,t._additionalParams=e}},{key:\"_getTemplate\",value:function(e,t){var o=this.config.template_name;return o&&A.ui.engine.isTemplateRegistered(\"\".concat(e,\".\").concat(o))||(o=t),\"\".concat(e,\".\").concat(o)}},{key:\"_enforceLayoutOptions\",value:function(){\"leaderboard\"===this.config.size||\"large_mobile_banner\"===this.config.size?(this.config.template_layout=\"list\",this.config.template_cta_style=\"link\"):\"half_page\"!==this.config.size&&\"auto\"!==this.config.size||(this.config.template_layout=\"list\")}},{key:\"_enforceSlabLayoutOptions\",value:function(){\"medium_rectangle\"===this.config.size||\"billboard\"===this.config.size?(this.config.template_layout=\"grid\",\"button\"===this.config.template_cta_style&&(this.config.template_cta_style=\"link\")):\"half_page\"===this.config.size?this.config.template_layout=\"grid\":\"leaderboard\"===this.config.size||\"large_mobile_banner\"===this.config.size?(this.config.template_layout=\"list\",\"button\"===this.config.template_cta_style&&(this.config.template_cta_style=\"link\")):\"auto\"===this.config.size?this.config.template_layout=\"list\":\"responsive\"===this.config.size&&\"button\"===this.config.template_cta_style&&(this.config.template_cta_style=\"link\")}},{key:\"_registerCustomBranding\",value:function(){var e=this.config.template_cta_color,t=\"okanjo-wgid-\"+this.instanceId,o=\"\";e&&(o=\"\\n                    .okanjo-block2.\".concat(t,\" .okanjo-resource-cta-button, .okanjo-block2.\").concat(t,\" .okanjo-resource-buy-button { color: \").concat(e,\" !important; } \\n                    .okanjo-block2.\").concat(t,\".okanjo-cta-style-button .okanjo-resource-cta-button, .okanjo-block2.\").concat(t,\".okanjo-cta-style-button .okanjo-resource-buy-button { border-color: \").concat(e,\" !important; } \\n                    .okanjo-block2.\").concat(t,\".okanjo-cta-style-button .okanjo-resource-cta-button:hover, .okanjo-block2.\").concat(t,\".okanjo-cta-style-button .okanjo-resource-buy-button:hover { background: \").concat(e,\" !important; color: #fff !important; } \\n                \")),this.config.custom_css&&(o+=\"\\n\\n\"+this.config.custom_css),this.config.custom_css_url&&A.ui.engine.ensureExternalCss(this.config.custom_css_url),o&&(A.ui.engine.registerCss(t,o,{id:t}),A.ui.engine.ensureCss(t))}},{key:\"_addOnceViewedHandler\",value:function(e,t){this._viewedWatchers.push({element:e,successfulCount:0,handler:t}),this._toggleViewWatcher(!0)}},{key:\"_checkViewWatchers\",value:function(){for(var e,t=0;t<this._viewedWatchers.length;t++)e=this._viewedWatchers[t],A.ui.isElementVisible(e.element)&&.5<=A.ui.getPercentageInViewport(e.element)&&e.successfulCount++,2<=e.successfulCount&&(e.handler(),this._viewedWatchers.splice(t,1),t--);0===this._viewedWatchers.length&&this._toggleViewWatcher(!1)}},{key:\"_toggleViewWatcher\",value:function(e){e?null===this._viewWatcherIv&&(this._viewWatcherIv=setInterval(this._checkViewWatchers.bind(this),500)):(clearInterval(this._viewWatcherIv),this._viewWatcherIv=null)}},{key:\"_renderProductSegment\",value:function(e,o){var n=this,t=this._getTemplate(c.ContentTypes.products,c.DefaultTemplates.products),e=(e.results.forEach(function(e,t){n.config.disable_inline_buy&&(e.inline_buy_url=null),e.inline_buy_url&&(e._escaped_inline_buy_url=encodeURIComponent(e.inline_buy_url)),e._image_url=e.image_urls?e.image_urls[0]:\"\",e._escaped_buy_url=encodeURIComponent(e.buy_url),e._price_formatted=ke.formatCurrency(e.price),e._index=t,e.splitfill_segment=o,e._segmentIndex=o}),{resources:e.results,css:!this.config.no_css});return A.ui.engine.render(t,this,e)}},{key:\"_postProductRender\",value:function(){var a=this,r=(this.element.querySelectorAll(\".okanjo-product .okanjo-resource-image\").forEach(function(e){e.addEventListener(\"error\",function(){e.src=A.ui.inlineSVG(A.ui.productSVG()),console.error(\"[okanjo] Failed to load product image: \"+e.getAttribute(\"data-id\"))})}),this._getResponseData());this.element.querySelectorAll(\".okanjo-product > a\").forEach(function(e){var t,o=e.getAttribute(\"data-id\"),n=parseInt(e.getAttribute(\"data-segment\")),i=parseInt(e.getAttribute(\"data-index\"));o&&0<=i&&0<=n&&(o=r[n])&&(t=o.results[i])&&(e.addEventListener(\"mousedown\",a._handleResourceMouseDown.bind(a,T.Object.product,t)),e.addEventListener(\"click\",a._handleProductClick.bind(a,t)),A.metrics.create(a._metricBase,{id:t.id}).type(T.Object.product,T.Event.impression).meta(a.getConfig()).meta({bf:t.backfill?1:0,sf:t.shortfill?1:0,spltfl_seg:A.util.ifDefined(t.splitfill_segment)}).element(e).viewport().widget(a.element).send(),a._addOnceViewedHandler(e,function(){A.metrics.create(a._metricBase,{id:t.id}).type(T.Object.product,T.Event.view).meta(a.getConfig()).meta({bf:t.backfill?1:0,sf:t.shortfill?1:0,spltfl_seg:A.util.ifDefined(t.splitfill_segment)}).element(e).viewport().widget(a.element).send()}))}),this.element.querySelectorAll(\".okanjo-product .okanjo-resource-title\").forEach(function(e){A.ui.ellipsify(e)})}},{key:\"_handleProductClick\",value:function(e,t){e._event&&e._additionalParams&&e._clickId||this._handleResourceMouseDown(T.Object.product,e,t);var o,n,i,a=e._event,r=e._additionalParams,s=(a.event(t),!!e.inline_buy_url);!this.config.disable_popup&&s&&A.util.isMobile()?(t.preventDefault(),a.data({ea:T.Action.inline_click}).meta({popup:\"true\"}),i=this._getClickThroughURL(a,e.inline_buy_url,r),this._popupFrame=E.open(i,\"okanjo-inline-buy-frame\",\"width=400,height=400,location=yes,resizable=yes,scrollbars=yes\"),this._popupFrame||(A.report(\"Popup blocker stopped buy experience from showing\",{placement:this}),E.location.href=i)):s?(t.preventDefault(),o=document.createElement(\"iframe\"),n={class:\"okanjo-inline-buy-frame\",frameborder:0,vspace:0,hspace:0,webkitallowfullscreen:\"\",mozallowfullscreen:\"\",allowfullscreen:\"\",scrolling:\"auto\"},Object.keys(n).forEach(function(e){return o.setAttribute(e,n[e])}),r.ok_expandable=this.config.expandable?1:0,this.config.expandable||(i=this.element.querySelector(\".okanjo-expansion-root\"))&&(o.className+=\" okanjo-ad-in-unit\",o.setAttribute(\"height\",\"100%\"),o.setAttribute(\"width\",\"100%\"),i.appendChild(o),s=A.ui.getElementSize(i),r.ok_frame_height=s.height,r.ok_frame_width=s.width,this.config.size&&(r.ok_ad_size=this.config.size)),a.data({ea:T.Action.inline_click}).meta({expandable:this.config.expandable?\"true\":\"false\"}),o.src=this._getClickThroughURL(a,e.inline_buy_url,r),o.parentNode||A.ui.modal.show(o)):t.currentTarget.href=this._getClickThroughURL(a,e.buy_url,r)}},{key:\"_renderArticleSegment\",value:function(e,o){var t=this._getTemplate(c.ContentTypes.articles,c.DefaultTemplates.articles),e=(e.results.forEach(function(e,t){e._escaped_url=encodeURIComponent(e.url),e._index=t,e.splitfill_segment=o,e._segmentIndex=o}),{resources:e.results,css:!this.config.no_css});return A.ui.engine.render(t,this,e)}},{key:\"_postArticleRender\",value:function(){var a=this,r=(this.element.querySelectorAll(\".okanjo-article .okanjo-resource-image\").forEach(function(e){e.addEventListener(\"error\",function(){e.src=A.ui.inlineSVG(A.ui.articleSVG()),console.error(\"[okanjo] Failed to load article image: \"+e.getAttribute(\"data-id\"))})}),this._getResponseData());this.element.querySelectorAll(\".okanjo-article > a\").forEach(function(e){var t,o=e.getAttribute(\"data-id\"),n=parseInt(e.getAttribute(\"data-segment\")),i=parseInt(e.getAttribute(\"data-index\"));o&&0<=i&&0<=n&&(o=r[n])&&(t=o.results[i])&&(e.addEventListener(\"mousedown\",a._handleResourceMouseDown.bind(a,T.Object.article,t)),e.addEventListener(\"click\",a._handleArticleClick.bind(a,t)),A.metrics.create(a._metricBase,{id:t.id}).type(T.Object.article,T.Event.impression).meta(a.getConfig()).meta({bf:t.backfill?1:0,sf:t.shortfill?1:0,spltfl_seg:A.util.ifDefined(t.splitfill_segment)}).element(e).viewport().widget(a.element).send(),a._addOnceViewedHandler(e,function(){A.metrics.create(a._metricBase,{id:t.id}).type(T.Object.article,T.Event.view).meta(a.getConfig()).meta({bf:t.backfill?1:0,sf:t.shortfill?1:0,spltfl_seg:A.util.ifDefined(t.splitfill_segment)}).element(e).viewport().widget(a.element).send()}))}),this.element.querySelectorAll(\".okanjo-article .okanjo-resource-title\").forEach(function(e){A.ui.ellipsify(e)})}},{key:\"_handleArticleClick\",value:function(e,t){e._event&&e._additionalParams&&e._clickId||this._handleResourceMouseDown(T.Object.article,e,t);var o=e._event,n=e._additionalParams;o.event(t),t.currentTarget.href=this._getClickThroughURL(o,e.url,n)}},{key:\"_renderADXSegment\",value:function(e,t){var o=this._getTemplate(c.ContentTypes.adx,c.DefaultTemplates.adx),n=null,i=(this.config.size&&(c.Sizes[this.config.size]?n=c.Sizes[this.config.size]:(i=/^([0-9]+)x([0-9]+)$/i.exec(this.config.size))&&(n={width:i[1],height:i[2]})),n=n||c.Sizes.default,\"/90447967/okanjo:<publisher>\"),e=(e.settings.display&&e.settings.display.adx_unit_path&&(i=e.settings.display.adx_unit_path),{css:!this.config.no_css,size:n,adUnitPath:i,segmentIndex:t});return A.ui.engine.render(o,this,e)}},{key:\"_postADXRender\",value:function(){var l=this,u=this._getResponseData();this.element.querySelectorAll(\".okanjo-adx .okanjo-adx-container\").forEach(function(e){var t,o,n,i=e.getAttribute(\"data-path\"),a=parseInt(e.getAttribute(\"data-segment\")),r=parseInt(e.getAttribute(\"data-width\")),s=parseInt(e.getAttribute(\"data-height\")),c=u[a];c&&(t={ta_s:i,ta_w:r,ta_h:s,spltfl_seg:A.util.ifDefined(a)},o=document.createElement(\"iframe\"),n={class:\"okanjo-adx-frame\",frameborder:0,vspace:0,hspace:0,webkitallowfullscreen:\"\",mozallowfullscreen:\"\",allowfullscreen:\"\",scrolling:\"auto\",width:r,height:s},Object.keys(n).forEach(function(e){return o.setAttribute(e,n[e])}),c._frame=o,e.appendChild(o),a=A.metrics.create(l._metricBase).type(T.Object.thirdparty_ad,T.Event.interaction).meta(l.getConfig()).meta(t).element(o).viewport().widget(l.element).toUrl(),o.contentWindow.trackImpression=function(){A.metrics.create(l._metricBase).type(T.Object.thirdparty_ad,T.Event.impression).meta(l.getConfig()).meta(t).element(o).viewport().widget(l.element).send(),l._addOnceViewedHandler(o,function(){A.metrics.create(l._metricBase).type(T.Object.thirdparty_ad,T.Event.view).meta(l.getConfig()).meta(t).element(o).viewport().widget(l.element).send()})},o.contentWindow.document.open(),o.contentWindow.document.write('<html><head><style type=\"text/css\">html,body {margin: 0; padding: 0;}</style></head><body><div id=\"gpt-passback\">\\n<'+'script type=\"text/javascript\" src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\">\\n    \\n    window.googletag = window.googletag || {cmd: []};\\n    googletag.cmd.push(function() {\\n        \\n        // Define the slot\\n        googletag.defineSlot(\"'.concat(i.replace(/\"/g,'\\\\\"'),'\", [[').concat(r,\", \").concat(s,\"]], 'gpt-passback')\\n            .setClickUrl(\\\"\").concat(a,\"&u=\\\")     // Track click event on the okanjo side\\n            .addService(googletag.pubads())    // Service the ad\\n        ;\\n        \\n        // Track load/view events\\n        googletag.pubads().addEventListener('slotRenderEnded', function(e) { \\n            trackImpression(e);\\n        });\\n        \\n        // Go time\\n        googletag.enableServices();\\n        googletag.display('gpt-passback');\\n    });\\n    \\n<\")+\"/script></div>\\n</body></html>\"),o.contentWindow.document.close())})}}]),c}()).Sizes={medium_rectangle:{width:300,height:250},leaderboard:{width:728,height:90},large_mobile_banner:{width:320,height:100},half_page:{width:300,height:600},billboard:{width:970,height:250},button_2:{width:120,height:60},micro_bar:{width:88,height:31},portrait:{width:300,height:1050},rectangle:{width:180,height:150},super_leaderboard:{width:970,height:90},wide_skyscraper:{width:160,height:600},mobile_leaderboard:{width:320,height:50},small_square:{width:200,height:200},button_1:{width:120,height:90},full_banner:{width:468,height:60},half_banner:{width:234,height:60},large_rectangle:{width:336,height:280},pop_under:{width:720,height:300},three_to_one_rectangle:{width:300,height:100},skyscraper:{width:120,height:600},square:{width:250,height:250},square_button:{width:125,height:125},vertical_banner:{width:120,height:240},vertical_rectangle:{width:240,height:400}},M.Sizes.default=M.Sizes.medium_rectangle,M.ContentTypes={products:\"products\",articles:\"articles\",adx:\"adx\",mixed:\"mixed\",container:\"container\"},M.DefaultTemplates={products:\"block2\",articles:\"block2\",adx:\"block2\",container:\"block2\"},A.Placement=M,ge=window.okanjo,z=function(){q(i,ge.Placement);var n=B(i);function i(e,t){r(this,i);var o=(t=t||{}).no_init;return t.no_init=!0,e=n.call(this,e,t),ge.warn(\"Product widget has been deprecated. Use Placement instead (may require configuration changes)\",{widget:a(e)}),o||(delete e.config.no_init,e.init()),e}return o(i,[{key:\"_setCompatibilityOptions\",value:function(){this.config.backwards=\"Product\",this.config.type=ge.Placement.ContentTypes.products,\"sense\"===this.config.mode?(this.config.url=this.config.url||\"referrer\",this.config.take=this.config.take||5):\"single\"===this.config.mode?(this.config.url=null,this.config.id&&(this.config.ids=[this.config.id]),this.config.take=1,delete this.config.id):(this.config.url=null,this.config.take=this.config.take||25),delete this.config.mode,this.config.sold_by&&(this.config.store_name=this.config.sold_by,delete this.config.sold_by),this.config.selectors&&(this.config.url_selectors=this.config.selectors,delete this.config.selectors),this.config.marketplace_id&&(this.config.property_id=this.config.marketplace_id,delete this.config.marketplace_id),\"testing\"===this.config.marketplace_status&&(this.config.sandbox=!0),delete this.config.marketplace_status,delete this.config.suboptimal,delete this.config.text}}]),i}(),ge.Product=z,R=window.okanjo,M=function(){q(i,R.Placement);var n=B(i);function i(e,t){r(this,i);var o=(t=t||{}).no_init;return t.no_init=!0,e=n.call(this,e,t),R.warn(\"Ad widget has been deprecated. Use Placement instead (may require configuration changes)\",{widget:a(e)}),o||(delete e.config.no_init,e.init()),e}return o(i,[{key:\"_setCompatibilityOptions\",value:function(){this.config.backwards=\"Ad\",this.config.type=R.Placement.ContentTypes.products,this.config.url=null,this.config.id?this.config.ids=[this.config.id]:R.warn(\"Ad widget should have parameter `id` set.\"),this.config.take=1,delete this.config.id,delete this.config.content}}]),i}(),R.Ad=M,function(){var e,t;e=this,t=function(){\"use strict\";\n/*!\n     * mustache.js - Logic-less {{mustache}} templates with JavaScript\n     * http://github.com/janl/mustache.js\n     */var t=Object.prototype.toString,P=Array.isArray||function(e){return\"[object Array]\"===t.call(e)};function u(e){return\"function\"==typeof e}function I(e){return e.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}function d(e,t){return null!=e&&\"object\"===p(e)&&t in e}var o=RegExp.prototype.test;var n=/\\S/;function z(e){return!o.call(n,e)}var i={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\",\"`\":\"&#x60;\",\"=\":\"&#x3D;\"};var R=/\\s*/,M=/\\s+/,q=/\\s*=/,D=/\\s*\\}/,B=/#|\\^|\\/|>|\\{|&|=|!/;function r(e,t){if(!e)return[];var o,n,i,a=!1,r=[],s=[],c=[],l=!1,u=!1,d=\"\",p=0;function h(){if(l&&!u)for(;c.length;)delete s[c.pop()];else c=[];u=l=!1}function k(e){if(\"string\"==typeof e&&(e=e.split(M,2)),!P(e)||2!==e.length)throw new Error(\"Invalid tags: \"+e);o=new RegExp(I(e[0])+\"\\\\s*\"),n=new RegExp(\"\\\\s*\"+I(e[1])),i=new RegExp(\"\\\\s*\"+I(\"}\"+e[1]))}k(t||L.tags);for(var f,g,m,j,b,y,_=new U(e);!_.eos();){if(f=_.pos,m=_.scanUntil(o))for(var v=0,x=m.length;v<x;++v)z(j=m.charAt(v))?(c.push(s.length),d+=j):(a=u=!0,d+=\" \"),s.push([\"text\",j,f,f+1]),f+=1,\"\\n\"===j&&(h(),d=\"\",p=0,a=!1);if(!_.scan(o))break;if(l=!0,g=_.scan(B)||\"name\",_.scan(R),\"=\"===g?(m=_.scanUntil(q),_.scan(q),_.scanUntil(n)):\"{\"===g?(m=_.scanUntil(i),_.scan(D),_.scanUntil(n),g=\"&\"):m=_.scanUntil(n),!_.scan(n))throw new Error(\"Unclosed tag at \"+_.pos);if(b=\">\"==g?[g,m,f,_.pos,d,p,a]:[g,m,f,_.pos],p++,s.push(b),\"#\"===g||\"^\"===g)r.push(b);else if(\"/\"===g){if(!(y=r.pop()))throw new Error('Unopened section \"'+m+'\" at '+f);if(y[1]!==m)throw new Error('Unclosed section \"'+y[1]+'\" at '+f)}else\"name\"===g||\"{\"===g||\"&\"===g?u=!0:\"=\"===g&&k(m)}if(h(),y=r.pop())throw new Error('Unclosed section \"'+y[1]+'\" at '+_.pos);for(var w,C=function(e){for(var t,o,n=[],i=0,a=e.length;i<a;++i)(t=e[i])&&(\"text\"===t[0]&&o&&\"text\"===o[0]?(o[1]+=t[1],o[3]=t[3]):(n.push(t),o=t));return n}(s),E=[],A=E,S=[],O=0,T=C.length;O<T;++O)switch((w=C[O])[0]){case\"#\":case\"^\":A.push(w),S.push(w),A=w[4]=[];break;case\"/\":S.pop()[5]=w[2],A=0<S.length?S[S.length-1][4]:E;break;default:A.push(w)}return E}function U(e){this.string=e,this.tail=e,this.pos=0}function a(e,t){this.view=e,this.cache={\".\":this.view},this.parent=t}function e(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}U.prototype.eos=function(){return\"\"===this.tail},U.prototype.scan=function(e){e=this.tail.match(e);if(!e||0!==e.index)return\"\";e=e[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e},U.prototype.scanUntil=function(e){var t,o=this.tail.search(e);switch(o){case-1:t=this.tail,this.tail=\"\";break;case 0:t=\"\";break;default:t=this.tail.substring(0,o),this.tail=this.tail.substring(o)}return this.pos+=t.length,t},a.prototype.push=function(e){return new a(e,this)},a.prototype.lookup=function(e){var t,o,n,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var a,r,s,c=this,l=!1;c;){if(0<e.indexOf(\".\"))for(a=c.view,r=e.split(\".\"),s=0;null!=a&&s<r.length;)s===r.length-1&&(l=d(a,r[s])||(o=a,n=r[s],null!=o&&\"object\"!==p(o)&&o.hasOwnProperty&&o.hasOwnProperty(n))),a=a[r[s++]];else a=c.view[e],l=d(c.view,e);if(l){t=a;break}c=c.parent}i[e]=t}return t=u(t)?t.call(this.view):t},e.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},e.prototype.parse=function(e,t){var o=this.templateCache,n=e+\":\"+(t||L.tags).join(\":\"),i=void 0!==o,a=i?o.get(n):void 0;return null==a&&(a=r(e,t),i&&o.set(n,a)),a},e.prototype.render=function(e,t,o,n){var i=this.getConfigTags(n),i=this.parse(e,i),t=t instanceof a?t:new a(t,void 0);return this.renderTokens(i,t,o,e,n)},e.prototype.renderTokens=function(e,t,o,n,i){for(var a,r,s,c=\"\",l=0,u=e.length;l<u;++l)s=void 0,\"#\"===(r=(a=e[l])[0])?s=this.renderSection(a,t,o,n,i):\"^\"===r?s=this.renderInverted(a,t,o,n,i):\">\"===r?s=this.renderPartial(a,t,o,i):\"&\"===r?s=this.unescapedValue(a,t):\"name\"===r?s=this.escapedValue(a,t,i):\"text\"===r&&(s=this.rawValue(a)),void 0!==s&&(c+=s);return c},e.prototype.renderSection=function(e,t,o,n,i){var a=this,r=\"\",s=t.lookup(e[1]);if(s){if(P(s))for(var c=0,l=s.length;c<l;++c)r+=this.renderTokens(e[4],t.push(s[c]),o,n,i);else if(\"object\"===p(s)||\"string\"==typeof s||\"number\"==typeof s)r+=this.renderTokens(e[4],t.push(s),o,n,i);else if(u(s)){if(\"string\"!=typeof n)throw new Error(\"Cannot use higher-order sections without the original template\");null!=(s=s.call(t.view,n.slice(e[3],e[5]),function(e){return a.render(e,t,o,i)}))&&(r+=s)}else r+=this.renderTokens(e[4],t,o,n,i);return r}},e.prototype.renderInverted=function(e,t,o,n,i){var a=t.lookup(e[1]);if(!a||P(a)&&0===a.length)return this.renderTokens(e[4],t,o,n,i)},e.prototype.indentPartial=function(e,t,o){for(var n=t.replace(/[^ \\t]/g,\"\"),i=e.split(\"\\n\"),a=0;a<i.length;a++)i[a].length&&(0<a||!o)&&(i[a]=n+i[a]);return i.join(\"\\n\")},e.prototype.renderPartial=function(e,t,o,n){var i,a,r,s,c;if(o)return i=this.getConfigTags(n),a=u(o)?o(e[1]):o[e[1]],null!=a?(r=e[6],c=e[5],e=e[4],s=a,0==c&&e&&(s=this.indentPartial(a,e,r)),c=this.parse(s,i),this.renderTokens(c,t,o,s,n)):void 0},e.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},e.prototype.escapedValue=function(e,t,o){o=this.getConfigEscape(o)||L.escape,t=t.lookup(e[1]);if(null!=t)return(\"number\"==typeof t&&o===L.escape?String:o)(t)},e.prototype.rawValue=function(e){return e[1]},e.prototype.getConfigTags=function(e){return P(e)?e:e&&\"object\"===p(e)?e.tags:void 0},e.prototype.getConfigEscape=function(e){if(e&&\"object\"===p(e)&&!P(e))return e.escape};var L={name:\"mustache.js\",version:\"4.2.0\",tags:[\"{{\",\"}}\"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){s.templateCache=e},get templateCache(){return s.templateCache}},s=new e;return L.clearCache=function(){return s.clearCache()},L.parse=function(e,t){return s.parse(e,t)},L.render=function(e,t,o,n){if(\"string\"!=typeof e)throw new TypeError('Invalid template! Template should be a \"string\" but \"'+(P(i=e)?\"array\":p(i))+'\" was given as the first argument for mustache#render(template, view, partials)');var i;return s.render(e,t,o,n)},L.escape=function(e){return String(e).replace(/[&<>\"'`=\\/]/g,function(e){return i[e]})},L.Scanner=U,L.Context=a,L.Writer=e,L},\"object\"===(\"undefined\"==typeof exports?\"undefined\":p(exports))&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).Mustache=t()}.apply(me.lib),me}),\n/*! okanjo-js v3.1.0 | (c) 2013 Okanjo Partners Inc | https://okanjo.com/ */\nfunction(){var t,o,n,e,i,a;(t=window.okanjo).ui.engine.registerCss(\"adx.block2\",'.okanjo-expansion-root{position:relative}.okanjo-expansion-root iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-align-start{display:flex;align-items:flex-start}.okanjo-align-end{display:flex;align-items:flex-end}.okanjo-align-center{display:flex;align-items:center}.okanjo-align-baseline{display:flex;align-items:baseline}.okanjo-align-stretch{display:flex;align-items:stretch}.okanjo-justify-start{display:flex;justify-content:flex-start}.okanjo-justify-end{display:flex;justify-content:flex-end}.okanjo-justify-center{display:flex;justify-content:center}.okanjo-justify-between{display:flex;justify-content:space-between}.okanjo-justify-around{display:flex;justify-content:space-around}.okanjo-justify-evenly{display:flex;justify-content:space-evenly}.okanjo-block2 .okanjo-adx{padding:0}.okanjo-block2 .okanjo-adx:after,.okanjo-block2 .okanjo-adx:before{content:\" \";display:table}.okanjo-block2 .okanjo-adx:after{clear:both}.okanjo-block2 .okanjo-adx .okanjo-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.okanjo-block2 .okanjo-adx .okanjo-adx-container{text-align:center;padding:0;line-height:0}.okanjo-block2 .okanjo-adx .okanjo-adx-frame{margin:0}',{id:\"okanjo-adx-block2\"}),t.ui.engine.registerTemplate(\"adx.block2\",'<div class=\"okanjo-resource okanjo-adx\"><div class=okanjo-adx-container data-size={{size.width}}x{{size.height}} data-width={{size.width}} data-height={{size.height}} data-path={{adUnitPath}} data-segment={{segmentIndex}}></div><div class=okanjo-visually-hidden><img alt=\"\" src=\"//cdn.okanjo.com/px/1.gif?n={{ now }}\"></div></div>',function(e){return e.config=this.config,e.instanceId=this.instanceId,e.metricParams=t.net.request.stringify(this._metricBase),e},{css:[\"adx.block2\",\"okanjo.block2\"]}),(o=window.okanjo).ui.engine.registerCss(\"articles.block2\",\".okanjo-block2 .okanjo-article.okanjo-cta-style-button .okanjo-resource-title-container{height:52px}.okanjo-block2 .okanjo-article .okanjo-resource-title-container.modern{height:44px}.okanjo-block2.leaderboard .okanjo-article .okanjo-resource-title-container{margin-top:2px;margin-bottom:4px}\",{id:\"okanjo-article-block2\"}),o.ui.__article_block2='{{#resources}}<div class=\"okanjo-resource okanjo-article {{#config}}{{ template_layout }}{{/config}}\" itemscope itemtype=https://schema.org/Article><a href=\"//{{ okanjoMetricUrl }}/metrics/am/int?m[bot]=true&id={{ id }}&{{ metricParams }}&n={{ now }}&u={{ _escaped_url }}\" data-id=\"{{ id }}\" data-index=\"{{ _index }}\" data-segment=\"{{ _segmentIndex }}\" data-type=article data-backfill=\"{{ backfill }}\" target=_blank itemprop=url title=\"Read More: {{ title }}\"><div class=okanjo-resource-image-container>{{#image}} <img alt=\"\" class=\"okanjo-resource-image {{ fitImage }}\" src=\"{{ image }}\" title=\"{{ name }}\" itemprop=image data-id=\"{{ id }}\"> {{/image}} {{^image}} {{{fallbackSVG}}} {{/image}}</div><div class=okanjo-resource-info-container><div class=okanjo-resource-publisher-container itemprop=publisher itemscope itemtype=https://schema.org/Organization><span class=okanjo-resource-publisher itemprop=name title=\"{{ publisher_name }}\">{{ publisher_name }}{{^publisher_name}}&nbsp;{{/publisher_name}}</span></div><div class=okanjo-resource-title-container><span class=okanjo-resource-title itemprop=name>{{ title }}</span></div><div class=\"okanjo-resource-description-container okanjo-visually-hidden\"><div class=okanjo-resource-description itemprop=description>{{ description }}</div></div><div><div class=okanjo-resource-button-container><div class=okanjo-resource-cta-button><span>{{meta.cta_text}}{{^meta.cta_text}}{{#config}}{{ template_cta_text }}{{^template_cta_text}}Read Now{{/template_cta_text}}{{/config}}{{/meta.cta_text}}</span></div><meta property=url itemprop=url content=\"//{{ okanjoMetricUrl }}/metrics/am/int?m[bot]=true&m[microdata]=true&id={{ id }}&{{ metricParams }}&n={{ now }}&u={{ _escaped_url }}\"></div></div><div class=\"okanjo-resource-meta okanjo-visually-hidden\">{{#author}}<span itemprop=author>{{ author }}</span>{{/author}} {{#published}}<span itemprop=dateCreated>{{ published }}</span>{{/published}} <img alt=\"\" src=\"//cdn.okanjo.com/px/1.gif?n={{ now }}\"></div></div></a></div>{{/resources}}',o.ui.engine.registerTemplate(\"articles.block2\",o.ui.__article_block2,function(e){return e.config=this.config,e.instanceId=this.instanceId,e.metricChannel=this._metricBase.ch,e.metricContext=this._metricBase.cx,e.metricParams=o.net.request.stringify(this._metricBase),e.fallbackSVG=o.ui.articleSVG(),this._enforceLayoutOptions(),this._registerCustomBranding(\".okanjo-article\",\"button\"),e},{css:[\"articles.block2\",\"okanjo.block2\"]}),(n=window.okanjo).ui.engine.registerCss(\"articles.slab\",\"\",{id:\"okanjo-article-slab\"}),n.ui.engine.registerTemplate(\"articles.slab\",n.ui.__article_block2,function(e){return e.blockClasses=[\"okanjo-slab\"],e.config=this.config,e.instanceId=this.instanceId,e.metricChannel=this._metricBase.ch,e.metricContext=this._metricBase.cx,e.metricParams=n.net.request.stringify(this._metricBase),e.fallbackSVG=n.ui.articleSVG(),e.fitImage=\"okanjo-fit\",this._enforceSlabLayoutOptions(),this._registerCustomBranding(\".okanjo-article\",\"button\"),e},{css:[\"articles.slab\",\"okanjo.slab\",\"okanjo.block2\"]}),(e=window.okanjo).ui.engine.registerCss(\"okanjo.block2\",'.okanjo-expansion-root{position:relative}.okanjo-expansion-root iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-align-start{display:flex;align-items:flex-start}.okanjo-align-end{display:flex;align-items:flex-end}.okanjo-align-center{display:flex;align-items:center}.okanjo-align-baseline{display:flex;align-items:baseline}.okanjo-align-stretch{display:flex;align-items:stretch}.okanjo-justify-start{display:flex;justify-content:flex-start}.okanjo-justify-end{display:flex;justify-content:flex-end}.okanjo-justify-center{display:flex;justify-content:center}.okanjo-justify-between{display:flex;justify-content:space-between}.okanjo-justify-around{display:flex;justify-content:space-around}.okanjo-justify-evenly{display:flex;justify-content:space-evenly}.okanjo-block2{color:#333;font-size:12px/1.2;font-family:inherit}.okanjo-block2:after,.okanjo-block2:before{content:\" \";display:table}.okanjo-block2:after{clear:both}.okanjo-block2.theme-newsprint .okanjo-resource-seller-container{font-family:Georgia,serif}.okanjo-block2.theme-newsprint .okanjo-resource-title-container{font:13px/15px Georgia,serif}.okanjo-block2.theme-modern,.okanjo-block2.theme-newsprint .okanjo-resource-buy-button,.okanjo-block2.theme-newsprint .okanjo-resource-cta-button,.okanjo-block2.theme-newsprint .okanjo-resource-price-container{font-family:\"Helvetica Neue\",Helvetica,Roboto,Arial,sans-serif}.okanjo-block2 .okanjo-ellipses:after{content:\"...\"}.okanjo-block2 .okanjo-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.okanjo-block2 .okanjo-resource{display:block;float:left;background-color:#fff;box-sizing:content-box;width:148px;border:1px solid #e6e6e6;margin:0 -1px -1px 0}.okanjo-block2 .okanjo-resource:last-child{margin:0}.okanjo-block2 a{display:block;overflow:hidden;color:#333;text-decoration:none;padding:10px}.okanjo-block2 a:hover{color:inherit;text-decoration:none}.okanjo-block2 .okanjo-resource-image-container{float:left;overflow:hidden;text-align:center;vertical-align:middle;width:100%;height:128px;line-height:127px;margin:0 0 3px}.okanjo-block2 .okanjo-resource-image{max-width:100%;max-height:100%;border:none;vertical-align:middle}.okanjo-block2 .okanjo-resource-info-container{float:left;height:auto;width:100%}.okanjo-block2 .okanjo-resource-publisher-container,.okanjo-block2 .okanjo-resource-seller-container{color:#999;font-size:11px;line-height:12px;height:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.okanjo-block2 .okanjo-resource-title-container{overflow:hidden;margin-top:3px;margin-bottom:4px;font-weight:700;font-size:12px;line-height:14px;height:45px;word-wrap:break-word}.okanjo-block2 .okanjo-resource-title-container span{display:inline-block}.lt-ie8.okanjo-block2 .okanjo-resource-title-container span{display:inline;zoom:1}.okanjo-block2 .okanjo-resource-price-container{font-size:15px;line-height:1;margin-bottom:5px}.okanjo-block2 .okanjo-resource-buy-button,.okanjo-block2 .okanjo-resource-cta-button{color:#09f;font-size:12px;line-height:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.okanjo-block2 .okanjo-resource.list{width:298px;height:122px}.okanjo-block2 .okanjo-resource.list a{padding:11px}.okanjo-block2 .okanjo-resource.list .okanjo-resource-title-container{margin-top:4px;margin-bottom:6px}.okanjo-block2 .okanjo-resource.list .okanjo-resource-image-container{width:100px;height:100px;line-height:1px;margin:0 11px 0 0}.okanjo-block2 .okanjo-resource.list .okanjo-resource-info-container{height:auto;float:none}.okanjo-block2.okanjo-cta-style-button .okanjo-resource-title-container{height:30px}.okanjo-block2.okanjo-cta-style-button .okanjo-resource-buy-button,.okanjo-block2.okanjo-cta-style-button .okanjo-resource-cta-button{display:block;text-align:center;line-height:26px;padding:0 8px;border:1px solid #09f;border-radius:2px;transition:50ms}.okanjo-block2.okanjo-cta-style-button .okanjo-resource-buy-button:hover,.okanjo-block2.okanjo-cta-style-button .okanjo-resource-cta-button:hover{background:#09f;color:#fff}.okanjo-block2.okanjo-cta-style-button .okanjo-resource-buy-button:active,.okanjo-block2.okanjo-cta-style-button .okanjo-resource-cta-button:active{box-shadow:inset 0 3px 10px rgba(0,0,0,.15)}.okanjo-block2.medium_rectangle{width:300px;height:250px;overflow:hidden}.okanjo-block2.medium_rectangle .okanjo-resource{width:148px;height:248px}.okanjo-block2.medium_rectangle .okanjo-resource:first-child{width:149px;height:248px}.okanjo-block2.medium_rectangle .okanjo-resource.list{width:298px;height:123px}.okanjo-block2.medium_rectangle .okanjo-resource.list .okanjo-resource-image-container{width:100px;height:100px;line-height:1px}.okanjo-block2.medium_rectangle .okanjo-resource.list .okanjo-resource-info-container{height:auto;float:left;width:165px}.okanjo-block2.medium_rectangle .okanjo-resource.list:first-child{height:124px}.okanjo-block2.medium_rectangle .okanjo-resource.list:first-child a{padding-top:12px}.okanjo-block2.leaderboard{width:728px;height:90px;overflow:hidden}.okanjo-block2.leaderboard .okanjo-resource{width:241px;height:88px}.okanjo-block2.leaderboard .okanjo-resource:first-child{width:242px}.okanjo-block2.leaderboard .okanjo-resource a{padding:7px}.okanjo-block2.leaderboard .okanjo-resource .okanjo-resource-image-container{width:74px;height:74px;line-height:1px;margin:0 7px 0 0}.okanjo-block2.leaderboard .okanjo-resource .okanjo-resource-title-container{font-size:11px;line-height:13px;height:26px;margin-top:1px;margin-bottom:4px}.okanjo-block2.leaderboard .okanjo-resource .okanjo-resource-price-container{margin-bottom:3px}.okanjo-block2.leaderboard.theme-newsprint .okanjo-resource-title-container{font:bold 11px/13px Georgia,serif}.okanjo-block2.half_page{width:300px;height:600px;overflow:hidden}.okanjo-block2.half_page .okanjo-resource{height:118px}.okanjo-block2.half_page .okanjo-resource:nth-last-child(n+2){height:119px}.okanjo-block2.half_page .okanjo-resource .okanjo-resource-image-container{width:96px;height:96px}.okanjo-block2.half_page .okanjo-resource .okanjo-resource-title-container{margin-bottom:3px}.okanjo-block2.large_mobile_banner{width:320px;height:100px;overflow:hidden}.okanjo-block2.large_mobile_banner .okanjo-resource{width:318px;height:98px}.okanjo-block2.large_mobile_banner .okanjo-resource a{padding:6px}.okanjo-block2.large_mobile_banner .okanjo-resource .okanjo-resource-image-container{width:86px;height:86px}.okanjo-block2.large_mobile_banner .okanjo-resource .okanjo-resource-title-container{height:30px}.okanjo-block2.billboard{width:970px;height:250px;overflow:hidden}.okanjo-block2.billboard .okanjo-resource{width:160px;height:248px}.okanjo-block2.billboard .okanjo-resource:first-child{width:163px;height:248px}.okanjo-block2.billboard .okanjo-resource.list{width:322px;height:123px}.okanjo-block2.billboard .okanjo-resource.list .okanjo-resource-image-container{width:100px;height:100px;line-height:1px}.okanjo-block2.billboard .okanjo-resource.list .okanjo-resource-info-container{height:auto;float:left;width:165px}.okanjo-block2.auto{font-size:1em;width:100%}.okanjo-block2.auto .okanjo-resource{width:100%;height:auto;border-left:none;border-right:none}.okanjo-block2.auto .okanjo-resource a{max-width:500px;width:95%;margin:0 auto;padding:2.5%}.okanjo-block2.auto .okanjo-resource.list{height:auto}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-image-container{width:18%;height:auto;line-height:1px}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-info-container{height:auto;float:none;margin-left:21%;width:79%}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-publisher-container,.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-seller-container{height:auto;font-size:12px;line-height:1.2}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-price-container{height:auto;font-size:15px;line-height:1.5}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-title-container{font-size:15px;line-height:1.4;height:auto}.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-buy-button,.okanjo-block2.auto .okanjo-resource.list .okanjo-resource-cta-button{display:inline-block;font-size:14px;line-height:1.8;margin-bottom:-1.7%}.okanjo-block2.auto.okanjo-cta-style-button .okanjo-resource.list .okanjo-resource-price-container{line-height:1.3}.okanjo-block2.auto.okanjo-cta-style-button .okanjo-resource.list .okanjo-resource-title-container{line-height:1.25}.okanjo-block2.auto.okanjo-cta-style-button .okanjo-resource.list .okanjo-resource-buy-button,.okanjo-block2.auto.okanjo-cta-style-button .okanjo-resource.list .okanjo-resource-cta-button{font-size:13px}.okanjo-inline-buy-frame{display:block;height:100%;width:100%}',{id:\"okanjo-block2\"}),e.ui.__block2='<div class=\"okanjo-block2 okanjo-expansion-root {{ classDetects }} {{#config}} {{ size }} {{ template_variant }} theme-{{ template_theme }}{{^template_theme}}modern{{/template_theme}} okanjo-cta-style-{{ template_cta_style }}{{^template_cta_style}}link{{/template_cta_style}}{{/config}} okanjo-wgid-{{ instanceId }}\"><div class=okanjo-resource-list itemscope itemtype=https://schema.org/ItemList data-instance-id=\"{{ instanceId }}\">{{{ segmentContent }}}</div><div class=\"okanjo-resource-meta okanjo-visually-hidden\"></div></div>',e.ui.engine.registerTemplate(\"container.block2\",e.ui.__block2,function(e){return e.config=this.config,e.instanceId=this.instanceId,e},{css:[\"okanjo.block2\"]}),(e=window.okanjo).ui.engine.registerCss(\"okanjo.core\",\"\",{id:\"okanjo-core\"}),e.ui.engine.registerCss(\"okanjo.modal\",'.okanjo-expansion-root{position:relative}.okanjo-expansion-root iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-align-start{display:flex;align-items:flex-start}.okanjo-align-end{display:flex;align-items:flex-end}.okanjo-align-center{display:flex;align-items:center}.okanjo-align-baseline{display:flex;align-items:baseline}.okanjo-align-stretch{display:flex;align-items:stretch}.okanjo-justify-start{display:flex;justify-content:flex-start}.okanjo-justify-end{display:flex;justify-content:flex-end}.okanjo-justify-center{display:flex;justify-content:center}.okanjo-justify-between{display:flex;justify-content:space-between}.okanjo-justify-around{display:flex;justify-content:space-around}.okanjo-justify-evenly{display:flex;justify-content:space-evenly}html.okanjo-modal-active{overflow:hidden!important}html.okanjo-modal-active body{overflow:hidden!important;margin:0}.okanjo-modal-margin-fix{margin-right:15px!important}.okanjo-modal-container{position:fixed;top:0;right:0;left:0;bottom:0;z-index:2147483647;background-color:rgba(0,0,0,.65);transition-duration:210ms;transition-property:background-color}.okanjo-modal-container.lt-ie9{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiWAoAAK4AqL41IDIAAAAASUVORK5CYII=)}.okanjo-modal-container.okanjo-modal-fade-out{background-color:rgba(0,0,0,0)}.okanjo-modal-container.okanjo-modal-fade-out .okanjo-modal-window{opacity:0;transform:scale(.95,.95) translateY(50px)}.okanjo-modal-container.okanjo-modal-hidden{display:none!important}.okanjo-modal-container .okanjo-modal-window{position:relative;max-width:900px;width:90%;background:0 0;margin:56px auto 40px;opacity:1;transform:scale(1,1) translateY(0);transition-duration:210ms;transition-timing-function:cubic-bezier(0.13,0.025,0.15,1.15);transition-property:opacity}.okanjo-modal-container .okanjo-modal-window:after,.okanjo-modal-container .okanjo-modal-window:before{content:\" \";display:table}.okanjo-modal-container .okanjo-modal-window:after{clear:both}.okanjo-modal-container .okanjo-modal-window .okanjo-modal-header{padding-top:5px;padding-bottom:5px;border-bottom:1px solid #d7d7d7}.okanjo-modal-container .okanjo-modal-window .okanjo-modal-header img{height:50px;width:auto}.okanjo-modal-container .okanjo-modal-window-skin{width:auto;height:auto;box-shadow:0 10px 25px rgba(0,0,0,.5);position:absolute;background:#fff;border-radius:4px;top:0;bottom:0;left:0;right:0}.okanjo-modal-container .okanjo-modal-window-outer{position:absolute;top:15px;left:15px;bottom:15px;right:15px;vertical-align:top}.okanjo-modal-container .okanjo-modal-window-inner{position:relative;width:100%;height:100%;-webkit-overflow-scrolling:touch;overflow:auto}.okanjo-modal-container .okanjo-modal-window-inner iframe{height:100%;width:100%;margin-right:-15px}.okanjo-modal-container .okanjo-modal-close-button{color:#fff;cursor:pointer;position:absolute;right:0;top:-48px;text-align:right;font-size:40px;line-height:1em;overflow:visible;width:40px;height:40px}',{id:\"okanjo-modal\"}),e.ui.engine.registerTemplate(\"okanjo.error\",'<span class=okanjo-error>{{ message }}</span><img src=\"//cdn.okanjo.com/px/0.gif?n={{ now }}\"> {{#code}} <span class=okanjo-error-code>Reference: {{ code }}</span> {{/code}}',{css:[\"okanjo.core\"]}),(e=window.okanjo).ui.engine.registerCss(\"okanjo.slab\",\".okanjo-expansion-root{position:relative}.okanjo-expansion-root iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-align-start{display:flex;align-items:flex-start}.okanjo-align-end{display:flex;align-items:flex-end}.okanjo-align-center{display:flex;align-items:center}.okanjo-align-baseline{display:flex;align-items:baseline}.okanjo-align-stretch{display:flex;align-items:stretch}.okanjo-justify-start{display:flex;justify-content:flex-start}.okanjo-justify-end{display:flex;justify-content:flex-end}.okanjo-justify-center{display:flex;justify-content:center}.okanjo-justify-between{display:flex;justify-content:space-between}.okanjo-justify-around{display:flex;justify-content:space-around}.okanjo-justify-evenly{display:flex;justify-content:space-evenly}.okanjo-block2.okanjo-slab img.okanjo-fit{height:100%;width:100%;object-fit:cover}.okanjo-block2.okanjo-slab.okanjo-cta-style-none .okanjo-resource-button-container{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.okanjo-block2.okanjo-slab.okanjo-cta-style-none .okanjo-resource.list .okanjo-resource-title-container{height:95px}.okanjo-block2.okanjo-slab.okanjo-cta-style-button .okanjo-resource-title-container{height:40px}.okanjo-block2.okanjo-slab .okanjo-resource{width:298px}.okanjo-block2.okanjo-slab .okanjo-resource-publisher-container,.okanjo-block2.okanjo-slab .okanjo-resource-seller-container{max-width:200px}.okanjo-block2.okanjo-slab .okanjo-resource-image-container{height:155px}.okanjo-block2.okanjo-slab .okanjo-resource-title-container{height:58px;font-size:16px;line-height:19px}.okanjo-block2.okanjo-slab .okanjo-resource.list .okanjo-resource-title-container{font-size:14px;height:60px}.okanjo-block2.okanjo-slab.theme-newsprint .okanjo-resource-title-container{font:16px/19px Georgia,serif}.okanjo-block2.okanjo-slab.theme-newsprint .okanjo-resource.list .okanjo-resource-title-container{font-size:15px}.okanjo-block2.okanjo-slab.responsive .okanjo-resource-list{display:flex;flex-wrap:wrap;justify-content:center}.okanjo-block2.okanjo-slab.responsive .okanjo-resource{width:inherit;flex-grow:1;flex-shrink:0;flex-basis:33.3333%;flex-basis:200px;display:flex;align-items:center;justify-content:center}.okanjo-block2.okanjo-slab.responsive .okanjo-resource.list{flex-basis:33.3333%;flex-basis:250px}.okanjo-block2.okanjo-slab.responsive .okanjo-resource.list a{width:100%}.okanjo-block2.okanjo-slab.responsive .okanjo-resource:last-child{margin:0 -1px -1px 0}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource,.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource:first-child{width:298px;height:248px}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource .okanjo-resource-title-container{height:40px;margin-bottom:8px}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource .okanjo-resource-image-container{height:155px}.okanjo-block2.okanjo-slab.medium_rectangle.okanjo-cta-style-none .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.leaderboard .okanjo-resource .okanjo-resource-title-container{font-size:13px;line-height:15px;height:50px;margin-top:1px;margin-bottom:4px}.okanjo-block2.okanjo-slab.leaderboard.okanjo-cta-style-none .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.leaderboard.theme-newsprint .okanjo-resource .okanjo-resource-title-container{font:bold 13px/15px Georgia,serif}.okanjo-block2.okanjo-slab.large_mobile_banner .okanjo-resource .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.large_mobile_banner.okanjo-cta-style-none .okanjo-resource-title-container{height:80px}.okanjo-block2.okanjo-slab.half_page .okanjo-resource,.okanjo-block2.okanjo-slab.half_page .okanjo-resource:nth-last-child(n+2){width:298px;height:298px}.okanjo-block2.okanjo-slab.half_page .okanjo-resource:first-child{height:299px}.okanjo-block2.okanjo-slab.half_page .okanjo-resource .okanjo-resource-image-container{width:100%;height:180px}.okanjo-block2.okanjo-slab.half_page .okanjo-resource .okanjo-resource-title-container{margin-bottom:3px;height:77px}.okanjo-block2.okanjo-slab.half_page.okanjo-cta-style-button .okanjo-resource-title-container{height:57px;margin-bottom:8px}.okanjo-block2.okanjo-slab.half_page.okanjo-cta-style-none .okanjo-resource-title-container{height:116px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource{width:298px;height:198px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource:nth-last-child(n+2){width:298px;height:199px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource:first-child{height:199px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource .okanjo-resource-button-container{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource .okanjo-resource-image-container{width:100%;height:136px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource .okanjo-resource-title-container{height:42px}.okanjo-block2.okanjo-slab.billboard .okanjo-resource,.okanjo-block2.okanjo-slab.billboard .okanjo-resource:first-child{width:322px;height:248px}.okanjo-block2.okanjo-slab.billboard .okanjo-resource .okanjo-resource-title-container{height:40px;margin-bottom:8px}.okanjo-block2.okanjo-slab.billboard .okanjo-resource .okanjo-resource-image-container{height:155px}.okanjo-block2.okanjo-slab.billboard.okanjo-cta-style-none .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.auto .okanjo-resource.list .okanjo-resource-image-container{width:100px;height:100px}.okanjo-block2.okanjo-slab.auto .okanjo-resource.list .okanjo-resource-info-container{margin-left:111px;width:auto}\",{id:\"okanjo-slab\"}),e.ui.engine.registerTemplate(\"container.slab\",e.ui.__block2,function(e){return e.config=this.config,e.instanceId=this.instanceId,e.blockClasses=[\"okanjo-slab\"],e.fitImage=\"okanjo-fit\",this._enforceSlabLayoutOptions(),e},{css:[\"okanjo.slab\",\"okanjo.block2\"]}),(i=window.okanjo).ui.engine.registerCss(\"products.block2\",\"\",{id:\"okanjo-product-block2\"}),i.ui.__product_block2='{{#resources}}<div class=\"okanjo-resource okanjo-product {{#config}}{{ template_layout }}{{/config}}\" itemscope itemtype=https://schema.org/Product><a href=\"//{{ okanjoMetricUrl }}/metrics/pr/int?m[bot]=true&id={{ id }}&{{ metricParams }}&n={{ now }}&u={{ _escaped_buy_url }}\" data-id=\"{{ id }}\" data-index=\"{{ _index }}\" data-segment=\"{{ _segmentIndex }}\" data-type=product data-backfill=\"{{ backfill }}\" target=_blank itemprop=url title=\"Buy now: {{ name }}\"><div class=okanjo-resource-image-container><img alt=\"\" class=\"okanjo-resource-image {{ fitImage }}\" src=\"{{ _image_url }}\" title=\"{{ name }}\" itemprop=image data-id=\"{{ id }}\"></div><div class=okanjo-resource-info-container><div class=okanjo-resource-seller-container itemprop=seller itemscope itemtype=https://schema.org/Organization><span class=okanjo-resource-seller itemprop=name title=\"{{ store_name }}\">{{ store_name }}{{^store_name}}&nbsp;{{/store_name}}</span></div><div class=okanjo-resource-title-container><span class=okanjo-resource-title itemprop=name>{{ name }}</span></div><div><div class=okanjo-resource-price-container><span content=\"{{ currency }}\">$</span><span class=okanjo-resource-price>{{ _price_formatted }}</span></div><div class=okanjo-resource-button-container><div class=okanjo-resource-buy-button><span>{{ meta.cta_text }}{{^meta.cta_text}}{{#config}}{{ template_cta_text }}{{^template_cta_text}}Shop Now{{/template_cta_text}}{{/config}}{{/meta.cta_text}}</span></div><meta property=url itemprop=url content=\"//{{ okanjoMetricUrl }}/metrics/pr/int?m[bot]=true&m[microdata]=true&id={{ id }}&{{ metricParams }}&n={{ now }}&u={{ _escaped_buy_url }}\"></div></div><div class=\"okanjo-resource-meta okanjo-visually-hidden\">{{#impression_url}}<img src=\"{{ impression_url }}\" alt=\"\">{{/impression_url}} {{#upc}}<span itemprop=productID>upc:{{ upc }}</span>{{/upc}} {{#manufacturer}}<span itemprop=manufacturer>{{ manufacturer }}</span>{{/manufacturer}} <img alt=\"\" src=\"//cdn.okanjo.com/px/1.gif?n={{ now }}\"></div></div></a></div>{{/resources}}',i.ui.engine.registerTemplate(\"products.block2\",i.ui.__product_block2,function(e){return e.config=this.config,e.instanceId=this.instanceId,e.metricChannel=this._metricBase.ch,e.metricContext=this._metricBase.cx,e.metricParams=i.net.request.stringify(this._metricBase),this._enforceLayoutOptions(),this._registerCustomBranding(\".okanjo-product\",\"buy-button\"),e},{css:[\"products.block2\",\"okanjo.block2\",\"okanjo.modal\"]}),(a=window.okanjo).ui.engine.registerCss(\"products.slab\",\".okanjo-expansion-root{position:relative}.okanjo-expansion-root iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-align-start{display:flex;align-items:flex-start}.okanjo-align-end{display:flex;align-items:flex-end}.okanjo-align-center{display:flex;align-items:center}.okanjo-align-baseline{display:flex;align-items:baseline}.okanjo-align-stretch{display:flex;align-items:stretch}.okanjo-justify-start{display:flex;justify-content:flex-start}.okanjo-justify-end{display:flex;justify-content:flex-end}.okanjo-justify-center{display:flex;justify-content:center}.okanjo-justify-between{display:flex;justify-content:space-between}.okanjo-justify-around{display:flex;justify-content:space-around}.okanjo-justify-evenly{display:flex;justify-content:space-evenly}.okanjo-block2.okanjo-slab .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:40px;margin-bottom:2px}.okanjo-block2.okanjo-slab .okanjo-resource.okanjo-product.list .okanjo-resource-title-container{font-size:14px;height:40px}.okanjo-block2.okanjo-slab.okanjo-cta-style-button .okanjo-resource.okanjo-product.list .okanjo-resource-title-container{height:30px;font-size:12px;line-height:14px}.okanjo-block2.okanjo-slab.okanjo-cta-style-button.theme-newsprint .okanjo-resource.okanjo-product.list .okanjo-resource-title-container{font-size:13px}.okanjo-block2.okanjo-slab.okanjo-cta-style-none .okanjo-resource.okanjo-product.list .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource.okanjo-product .okanjo-resource-title-container{margin-bottom:4px;margin-top:2px}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource.okanjo-product .okanjo-resource-price-container{display:inline-block}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource.okanjo-product .okanjo-resource-button-container{display:inline-block;margin-left:10px;font-size:15px;line-height:1}.okanjo-block2.okanjo-slab.medium_rectangle .okanjo-resource.okanjo-product .okanjo-resource-button-container .okanjo-resource-buy-button{font-size:14px;overflow:inherit}.okanjo-block2.okanjo-slab.medium_rectangle.okanjo-cta-style-none .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:40px}.okanjo-block2.okanjo-slab.leaderboard .okanjo-resource.okanjo-product .okanjo-resource-title-container{margin-bottom:0;height:32px;font-size:14px}.okanjo-block2.okanjo-slab.leaderboard.okanjo-cta-style-none .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:47px}.okanjo-block2.okanjo-slab.large_mobile_banner .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:34px;font-size:14px;line-height:16px;margin-bottom:2px}.okanjo-block2.okanjo-slab.large_mobile_banner.okanjo-cta-style-none .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:50px}.okanjo-block2.okanjo-slab.half_page .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:40px}.okanjo-block2.okanjo-slab.half_page.okanjo-cta-style-button .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:34px;margin-bottom:0;line-height:15px;font-size:15px}.okanjo-block2.okanjo-slab.half_page.okanjo-cta-style-none .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:60px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:33px;font-size:15px;line-height:15px}.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource.okanjo-product .okanjo-resource-button-container,.okanjo-block2.okanjo-slab.half_page.dense .okanjo-resource.okanjo-product .okanjo-resource-price-container{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.okanjo-block2.okanjo-slab.billboard .okanjo-resource.okanjo-product .okanjo-resource-title-container{margin-bottom:4px;margin-top:2px}.okanjo-block2.okanjo-slab.billboard .okanjo-resource.okanjo-product .okanjo-resource-price-container{display:inline-block}.okanjo-block2.okanjo-slab.billboard .okanjo-resource.okanjo-product .okanjo-resource-button-container{display:inline-block;margin-left:10px;font-size:15px;line-height:1}.okanjo-block2.okanjo-slab.billboard .okanjo-resource.okanjo-product .okanjo-resource-button-container .okanjo-resource-buy-button{font-size:14px;overflow:inherit}.okanjo-block2.okanjo-slab.billboard.okanjo-cta-style-none .okanjo-resource.okanjo-product .okanjo-resource-title-container{height:40px}.okanjo-block2.okanjo-slab.auto .okanjo-resource.okanjo-product.list .okanjo-resource-title-container{height:auto;margin-bottom:2px;line-height:20px}.okanjo-block2.okanjo-slab.auto .okanjo-resource.okanjo-product.list .okanjo-resource-price-container{margin-bottom:0}.okanjo-block2.okanjo-slab.auto.okanjo-cta-style-button .okanjo-resource.okanjo-product .okanjo-resource-price-container{margin-bottom:3px}\",{id:\"okanjo-product-slab\"}),a.ui.engine.registerTemplate(\"products.slab\",a.ui.__product_block2,function(e){return e.blockClasses=[\"okanjo-slab\"],e.config=this.config,e.instanceId=this.instanceId,e.metricChannel=this._metricBase.ch,e.metricContext=this._metricBase.cx,e.metricParams=a.net.request.stringify(this._metricBase),e.fitImage=\"okanjo-fit\",this._enforceSlabLayoutOptions(),this._registerCustomBranding(\".okanjo-product\",\"button\"),e},{css:[\"products.slab\",\"okanjo.slab\",\"okanjo.block2\"]})}(okanjo);"],"file":"okanjo-bundle.min.js","sourceRoot":"./"}