{"version":3,"sources":["ad.block.js","okanjo.core.js","product.block.js","okanjo-templates.js"],"names":["okanjo","mvc","registerCss","id","registerTemplate","data","options","config","util","clone","css","products","formats","product"],"mappings":";CACA,SAAAA,GAAAA,EAAAC,IAAAC,YAAA,WAAA,2qCAAAC,GAAA,oBAEAH,EAAAC,IAAAG,iBAAA,WAAA,qTAAA,SAAAC,EAAAC,GAOA,MALAD,GAAAA,IAAAE,WACAD,EAAAN,EAAAQ,KAAAC,MAAAH,GAGAA,EAAAC,OAAAF,EAAAE,OACAD,IAEAI,KAAA,cCVAV,EAAAC,IAAAC,YAAA,cAAA,IAAAC,GAAA,gBACAH,EAAAC,IAAAC,YAAA,eAAA,62EAAAC,GAAA,iBCHAH,EAAAC,IAAAG,iBAAA,eAAA,gIAAAM,KAAA,iBAEAV,EAAAC,IAAAC,YAAA,gBAAA,40DAAAC,GAAA,yBAEAH,EAAAC,IAAAG,iBAAA,gBAAA,mlEAAA,SAAAC,EAAAC,GAQA,MANAD,GAAAA,IAAAM,YAAAJ,WACAD,EAAAN,EAAAQ,KAAAC,MAAAH,GAGAA,EAAAC,OAAAF,EAAAE,OACAD,EAAAK,SAAAX,EAAAC,IAAAW,QAAAC,QAAAR,EAAAM,UACAL,IAEAI,KAAA,gBAAA,mBCuBGV","file":"okanjo-templates.min.js","sourcesContent":["okanjo.mvc.registerCss(\"ad.block\", \".okanjo-ad-block{position:relative}.okanjo-ad-block .okanjo-ad-dynamic-product .okanjo-product-list{margin:0;width:100%}.okanjo-ad-block .okanjo-ad-container iframe.okanjo-ad-in-unit{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.okanjo-ad-block.okanjo-ad-fit{width:100%;height:100%;position:relative}.okanjo-ad-block.okanjo-ad-fit .okanjo-ad-container,.okanjo-ad-block.okanjo-ad-fit .okanjo-ad-dynamic-product,.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block,.okanjo-ad-block.okanjo-ad-fit .okanjo-product-list{height:100%;width:100%}.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block .okanjo-product{height:100%;width:100%;padding:0;box-sizing:border-box;margin:0}.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block .okanjo-product-image-container{margin:.5em}.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block .okanjo-product-title-container{height:auto;margin:1em .5em}.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block .okanjo-product-price-container{position:absolute;bottom:.5em;background:#fff;padding:.25em 0 0;margin:0 1px 0 0;left:1px;right:1px}.okanjo-ad-block.okanjo-ad-fit .okanjo-product-block.lt-ie9 .okanjo-product-title-container:before{display:none}\", { id: 'okanjo-ad-block' });\n\nokanjo.mvc.registerTemplate(\"ad.block\", \"<div class=\\\"okanjo-ad-block {{classDetects}}\\\"><div class=okanjo-ad-container></div><div class=okanjo-ad-meta><img src=\\\"{{#okanjoConfig}}{{#ads}}{{apiUri}}{{/ads}}{{/okanjoConfig}}/metrics/widgets?c=aw&cm={{#config}}{{ content }}{{/config}}&key={{#config}}{{ key }}{{/config}}&n={{now}}\\\" alt=\\\"\\\"></div></div>\", function(data, options) {\n    // Ensure params\n    data = data || { config: {} };\n    options = okanjo.util.clone(options);\n\n    // Copy, format and return the config and products\n    options.config = data.config;\n    return options;\n}, {\n    css: [ 'ad.block' ]\n});\n","\nokanjo.mvc.registerCss(\"okanjo.core\", \"\", { id: 'okanjo-core' });\nokanjo.mvc.registerCss(\"okanjo.modal\", \"html.okanjo-modal-active{overflow:hidden!important}html.okanjo-modal-active body{overflow:hidden!important;margin:0}.okanjo-modal-margin-fix{margin-right:15px!important}.okanjo-modal-container{position:fixed;top:0;right:0;left:0;bottom:0;z-index:2147483647;background-color:rgba(0,0,0,.65);transition-duration:210ms;transition-property:background-color}.okanjo-modal-container.lt-ie9{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiWAoAAK4AqL41IDIAAAAASUVORK5CYII=)}.okanjo-modal-container.okanjo-modal-fade-out{background-color:transparent}.okanjo-modal-container.okanjo-modal-fade-out .okanjo-modal-window{opacity:0;-webkit-transform:scale(.95,.95)translateY(50px);transform:scale(.95,.95)translateY(50px)}.okanjo-modal-container.okanjo-modal-hidden{display:none!important}.okanjo-modal-container .okanjo-modal-window{position:relative;max-width:900px;width:90%;background:0 0;margin:56px auto 40px;opacity:1;-webkit-transform:scale(1,1)translateY(0);transform:scale(1,1)translateY(0);transition-duration:210ms;transition-timing-function:cubic-bezier(.13,.025,.15,1);transition-timing-function:cubic-bezier(.13,.025,.15,1.15);transition-property:-webkit-transform,opacity}.okanjo-modal-container .okanjo-modal-window:after,.okanjo-modal-container .okanjo-modal-window:before{content:\\\" \\\";display:table}.okanjo-modal-container .okanjo-modal-window:after{clear:both}.okanjo-modal-container .okanjo-modal-window .okanjo-modal-header{padding-top:5px;padding-bottom:5px;border-bottom:1px solid #d7d7d7}.okanjo-modal-container .okanjo-modal-window .okanjo-modal-header img{height:50px;width:auto}.okanjo-modal-container .okanjo-modal-window-skin{width:auto;height:auto;box-shadow:0 10px 25px rgba(0,0,0,.5);position:absolute;background:#fff;border-radius:4px;top:0;bottom:0;left:0;right:0}.okanjo-modal-container .okanjo-modal-window-outer{position:absolute;top:15px;left:15px;bottom:15px;right:15px;vertical-align:top}.okanjo-modal-container .okanjo-modal-window-inner{position:relative;width:100%;height:100%;-webkit-overflow-scrolling:touch;overflow:auto}.okanjo-modal-container .okanjo-modal-window-inner iframe{height:100%;width:100%;margin-right:-15px}.okanjo-modal-container .okanjo-modal-close-button{color:#fff;cursor:pointer;position:absolute;right:0;top:-48px;text-align:right;font-size:40px;line-height:1em;overflow:visible;width:40px;height:40px}\", { id: 'okanjo-modal' });\n\nokanjo.mvc.registerTemplate(\"okanjo.error\", \"<span class=okanjo-error>{{ message }}</span> {{#code}} <span class=okanjo-error-code>Reference: {{ code }}</span> {{/code}}\", { css: ['okanjo.core'] });","\n    okanjo.mvc.registerCss(\"product.block\", \".lt-ie8.okanjo-product-block .okanjo-product-title,.lt-ie8.okanjo-product-block .okanjo-product-title-container:before{zoom:1}.okanjo-product-block .okanjo-product-list{list-style-type:none;padding:0}.okanjo-product-block .okanjo-product{width:150px;overflow:hidden;text-align:center;border:1px solid #ccc;padding:.5em;display:inline-block;margin:0 .1em;box-shadow:1px 1px 1px 1px #eee;background-color:#fff}.lt-ie8.okanjo-product-block .okanjo-product{display:inline;zoom:1}.okanjo-product-block .okanjo-product-image-container{height:150px}.okanjo-product-block .okanjo-product-image{max-width:100%;max-height:100%;border:0}.okanjo-product-block .okanjo-product-title-container{margin:.5em;height:4em;overflow:auto;vertical-align:middle}.okanjo-product-block .okanjo-product-title-container:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle}.okanjo-product-block .okanjo-product-title{vertical-align:middle;display:inline-block}.okanjo-product-block .okanjo-product-meta{height:0;width:0;text-indent:-100%;overflow:hidden}.lt-ie7.okanjo-product-block .okanjo-product,.lt-ie8.okanjo-product-block .okanjo-product,.lt-ie9.okanjo-product-block .okanjo-product{margin-bottom:.2em}.lt-ie7.okanjo-product-block .okanjo-product-title-container:before,.lt-ie8.okanjo-product-block .okanjo-product-title-container:before,.lt-ie9.okanjo-product-block .okanjo-product-title-container:before{display:block;height:0}.lt-ie7.okanjo-product-block .okanjo-product-title,.lt-ie8.okanjo-product-block .okanjo-product-title,.lt-ie9.okanjo-product-block .okanjo-product-title{display:block}.okanjoModal.adModal{padding:0;overflow:hidden;top:50px;bottom:50px;max-width:900px;width:100%}.okanjoModal.adModal .okanjoModalContent{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%}.okanjo-inline-buy-frame{display:block;height:100%;width:100%}\", { id: 'okanjo-product-block' });\n\n    okanjo.mvc.registerTemplate(\"product.block\", \"<div class=\\\"okanjo-product-block {{classDetects}}\\\"><ul class=okanjo-product-list itemscope=\\\"\\\" itemtype=http://schema.org/ItemList>{{#products}}<li class=okanjo-product itemscope=\\\"\\\" itemtype=http://schema.org/Product><a href=\\\"http://{{okanjoMetricUrl}}/metrics/{{ id }}?c={{#config}}{{ metrics_context }}{{/config}}&cm={{#config}}{{ mode }}{{/config}}&key={{#config}}{{ key }}{{/config}}&n={{ now }}&u={{ escaped_buy_url }}\\\" data-inline-buy-url-base=\\\"//{{okanjoMetricUrl}}/metrics/{{ id }}?c={{#config}}{{ metrics_context }}{{/config}}&a=inline_click&cm={{#config}}{{ mode }}{{/config}}&key={{#config}}{{ key }}{{/config}}\\\" data-inline-buy-url=\\\"{{ inline_buy_url }}\\\" data-expandable=\\\"{{#config}}{{ expandable }}{{/config}}\\\" data-id=\\\"{{ id }}\\\" target=_blank itemprop=url><div class=okanjo-product-image-container><img class=okanjo-product-image src=\\\"{{ image_url }}\\\" title=\\\"{{ name }}\\\" itemprop=image></div><div class=okanjo-product-title-container><span class=okanjo-product-title itemprop=name>{{ name }}</span></div><div class=okanjo-product-price-container itemprop=offers itemscope=\\\"\\\" itemtype=http://schema.org/Offer><span itemprop=priceCurrency content=\\\"{{ currency }}\\\">$</span><span class=okanjo-product-price itemprop=price>{{ price }}</span></div><div class=okanjo-product-meta><img src=\\\"{{#okanjoConfig}}{{#ads}}{{apiUri}}{{/ads}}{{/okanjoConfig}}/metrics/{{ id }}?c={{#config}}{{ metrics_context }}{{/config}}&cm={{#config}}{{ mode }}{{/config}}&key={{#config}}{{ key }}{{/config}}&n={{now}}\\\" alt=\\\"\\\"> {{! Okanjo impression tracking URL }} {{#impression_url}}<img src={{impression_url}} alt=\\\"\\\">{{/impression_url}}{{#sold_by}}<span itemprop=brand>{{brand}}</span>{{/sold_by}} {{#upc}}<span itemprop=productID>upc:{{upc}}</span>{{/upc}} {{#manufacturer}}<span itemprop=manufacturer>{{manufacturer}}</span>{{/manufacturer}}</div></a></li>{{/products}}</ul><div class=okanjo-product-meta><img src=\\\"{{#okanjoConfig}}{{#ads}}{{apiUri}}{{/ads}}{{/okanjoConfig}}/metrics/widgets?c={{#config}}{{ metrics_context }}{{/config}}&cm={{#config}}{{ mode }}{{/config}}&key={{#config}}{{ key }}{{/config}}&n={{now}}\\\" alt=\\\"\\\"></div></div>\", function(data, options) {\n        // Ensure params\n        data = data || { products: [], config: {} };\n        options = okanjo.util.clone(options);\n\n        // Copy, format and return the config and products\n        options.config = data.config;\n        options.products = okanjo.mvc.formats.product(data.products);\n        return options;\n    }, {\n        css: [ /*'okanjo.core',*/ 'product.block', 'okanjo.modal']\n    });\n\n\n",null],"sourceRoot":"./"}